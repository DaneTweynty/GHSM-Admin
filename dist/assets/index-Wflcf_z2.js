(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const k of document.querySelectorAll('link[rel="modulepreload"]'))b(k);new MutationObserver(k=>{for(const w of k)if(w.type==="childList")for(const N of w.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&b(N)}).observe(document,{childList:!0,subtree:!0});function u(k){const w={};return k.integrity&&(w.integrity=k.integrity),k.referrerPolicy&&(w.referrerPolicy=k.referrerPolicy),k.crossOrigin==="use-credentials"?w.credentials="include":k.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function b(k){if(k.ep)return;k.ep=!0;const w=u(k);fetch(k.href,w)}})();function kd(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Eo={exports:{}},vl={},Mo={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function ff(){if(rd)return je;rd=1;var d=Symbol.for("react.element"),m=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),N=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),L=Symbol.iterator;function V(f){return f===null||typeof f!="object"?null:(f=L&&f[L]||f["@@iterator"],typeof f=="function"?f:null)}var se={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,I={};function D(f,M,xe){this.props=f,this.context=M,this.refs=I,this.updater=xe||se}D.prototype.isReactComponent={},D.prototype.setState=function(f,M){if(typeof f!="object"&&typeof f!="function"&&f!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,f,M,"setState")},D.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};function fe(){}fe.prototype=D.prototype;function ve(f,M,xe){this.props=f,this.context=M,this.refs=I,this.updater=xe||se}var ee=ve.prototype=new fe;ee.constructor=ve,B(ee,D.prototype),ee.isPureReactComponent=!0;var de=Array.isArray,P=Object.prototype.hasOwnProperty,Q={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function j(f,M,xe){var ke,we={},Ne=null,De=null;if(M!=null)for(ke in M.ref!==void 0&&(De=M.ref),M.key!==void 0&&(Ne=""+M.key),M)P.call(M,ke)&&!te.hasOwnProperty(ke)&&(we[ke]=M[ke]);var be=arguments.length-2;if(be===1)we.children=xe;else if(1<be){for(var _e=Array(be),et=0;et<be;et++)_e[et]=arguments[et+2];we.children=_e}if(f&&f.defaultProps)for(ke in be=f.defaultProps,be)we[ke]===void 0&&(we[ke]=be[ke]);return{$$typeof:d,type:f,key:Ne,ref:De,props:we,_owner:Q.current}}function U(f,M){return{$$typeof:d,type:f.type,key:M,ref:f.ref,props:f.props,_owner:f._owner}}function ce(f){return typeof f=="object"&&f!==null&&f.$$typeof===d}function q(f){var M={"=":"=0",":":"=2"};return"$"+f.replace(/[=:]/g,function(xe){return M[xe]})}var $=/\/+/g;function Y(f,M){return typeof f=="object"&&f!==null&&f.key!=null?q(""+f.key):M.toString(36)}function X(f,M,xe,ke,we){var Ne=typeof f;(Ne==="undefined"||Ne==="boolean")&&(f=null);var De=!1;if(f===null)De=!0;else switch(Ne){case"string":case"number":De=!0;break;case"object":switch(f.$$typeof){case d:case m:De=!0}}if(De)return De=f,we=we(De),f=ke===""?"."+Y(De,0):ke,de(we)?(xe="",f!=null&&(xe=f.replace($,"$&/")+"/"),X(we,M,xe,"",function(et){return et})):we!=null&&(ce(we)&&(we=U(we,xe+(!we.key||De&&De.key===we.key?"":(""+we.key).replace($,"$&/")+"/")+f)),M.push(we)),1;if(De=0,ke=ke===""?".":ke+":",de(f))for(var be=0;be<f.length;be++){Ne=f[be];var _e=ke+Y(Ne,be);De+=X(Ne,M,xe,_e,we)}else if(_e=V(f),typeof _e=="function")for(f=_e.call(f),be=0;!(Ne=f.next()).done;)Ne=Ne.value,_e=ke+Y(Ne,be++),De+=X(Ne,M,xe,_e,we);else if(Ne==="object")throw M=String(f),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return De}function ye(f,M,xe){if(f==null)return f;var ke=[],we=0;return X(f,ke,"","",function(Ne){return M.call(xe,Ne,we++)}),ke}function oe(f){if(f._status===-1){var M=f._result;M=M(),M.then(function(xe){(f._status===0||f._status===-1)&&(f._status=1,f._result=xe)},function(xe){(f._status===0||f._status===-1)&&(f._status=2,f._result=xe)}),f._status===-1&&(f._status=0,f._result=M)}if(f._status===1)return f._result.default;throw f._result}var K={current:null},_={transition:null},H={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:_,ReactCurrentOwner:Q};function z(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:ye,forEach:function(f,M,xe){ye(f,function(){M.apply(this,arguments)},xe)},count:function(f){var M=0;return ye(f,function(){M++}),M},toArray:function(f){return ye(f,function(M){return M})||[]},only:function(f){if(!ce(f))throw Error("React.Children.only expected to receive a single React element child.");return f}},je.Component=D,je.Fragment=u,je.Profiler=k,je.PureComponent=ve,je.StrictMode=b,je.Suspense=y,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,je.act=z,je.cloneElement=function(f,M,xe){if(f==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+f+".");var ke=B({},f.props),we=f.key,Ne=f.ref,De=f._owner;if(M!=null){if(M.ref!==void 0&&(Ne=M.ref,De=Q.current),M.key!==void 0&&(we=""+M.key),f.type&&f.type.defaultProps)var be=f.type.defaultProps;for(_e in M)P.call(M,_e)&&!te.hasOwnProperty(_e)&&(ke[_e]=M[_e]===void 0&&be!==void 0?be[_e]:M[_e])}var _e=arguments.length-2;if(_e===1)ke.children=xe;else if(1<_e){be=Array(_e);for(var et=0;et<_e;et++)be[et]=arguments[et+2];ke.children=be}return{$$typeof:d,type:f.type,key:we,ref:Ne,props:ke,_owner:De}},je.createContext=function(f){return f={$$typeof:N,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},f.Provider={$$typeof:w,_context:f},f.Consumer=f},je.createElement=j,je.createFactory=function(f){var M=j.bind(null,f);return M.type=f,M},je.createRef=function(){return{current:null}},je.forwardRef=function(f){return{$$typeof:g,render:f}},je.isValidElement=ce,je.lazy=function(f){return{$$typeof:S,_payload:{_status:-1,_result:f},_init:oe}},je.memo=function(f,M){return{$$typeof:O,type:f,compare:M===void 0?null:M}},je.startTransition=function(f){var M=_.transition;_.transition={};try{f()}finally{_.transition=M}},je.unstable_act=z,je.useCallback=function(f,M){return K.current.useCallback(f,M)},je.useContext=function(f){return K.current.useContext(f)},je.useDebugValue=function(){},je.useDeferredValue=function(f){return K.current.useDeferredValue(f)},je.useEffect=function(f,M){return K.current.useEffect(f,M)},je.useId=function(){return K.current.useId()},je.useImperativeHandle=function(f,M,xe){return K.current.useImperativeHandle(f,M,xe)},je.useInsertionEffect=function(f,M){return K.current.useInsertionEffect(f,M)},je.useLayoutEffect=function(f,M){return K.current.useLayoutEffect(f,M)},je.useMemo=function(f,M){return K.current.useMemo(f,M)},je.useReducer=function(f,M,xe){return K.current.useReducer(f,M,xe)},je.useRef=function(f){return K.current.useRef(f)},je.useState=function(f){return K.current.useState(f)},je.useSyncExternalStore=function(f,M,xe){return K.current.useSyncExternalStore(f,M,xe)},je.useTransition=function(){return K.current.useTransition()},je.version="18.3.1",je}var ld;function To(){return ld||(ld=1,Mo.exports=ff()),Mo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function pf(){if(sd)return vl;sd=1;var d=To(),m=Symbol.for("react.element"),u=Symbol.for("react.fragment"),b=Object.prototype.hasOwnProperty,k=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function N(g,y,O){var S,L={},V=null,se=null;O!==void 0&&(V=""+O),y.key!==void 0&&(V=""+y.key),y.ref!==void 0&&(se=y.ref);for(S in y)b.call(y,S)&&!w.hasOwnProperty(S)&&(L[S]=y[S]);if(g&&g.defaultProps)for(S in y=g.defaultProps,y)L[S]===void 0&&(L[S]=y[S]);return{$$typeof:m,type:g,key:V,ref:se,props:L,_owner:k.current}}return vl.Fragment=u,vl.jsx=N,vl.jsxs=N,vl}var ad;function mf(){return ad||(ad=1,Eo.exports=pf()),Eo.exports}var s=mf(),E=To();const zn=kd(E);var Fs={},Do={exports:{}},mt={},Io={exports:{}},_o={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od;function hf(){return od||(od=1,function(d){function m(_,H){var z=_.length;_.push(H);e:for(;0<z;){var f=z-1>>>1,M=_[f];if(0<k(M,H))_[f]=H,_[z]=M,z=f;else break e}}function u(_){return _.length===0?null:_[0]}function b(_){if(_.length===0)return null;var H=_[0],z=_.pop();if(z!==H){_[0]=z;e:for(var f=0,M=_.length,xe=M>>>1;f<xe;){var ke=2*(f+1)-1,we=_[ke],Ne=ke+1,De=_[Ne];if(0>k(we,z))Ne<M&&0>k(De,we)?(_[f]=De,_[Ne]=z,f=Ne):(_[f]=we,_[ke]=z,f=ke);else if(Ne<M&&0>k(De,z))_[f]=De,_[Ne]=z,f=Ne;else break e}}return H}function k(_,H){var z=_.sortIndex-H.sortIndex;return z!==0?z:_.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var w=performance;d.unstable_now=function(){return w.now()}}else{var N=Date,g=N.now();d.unstable_now=function(){return N.now()-g}}var y=[],O=[],S=1,L=null,V=3,se=!1,B=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(_){for(var H=u(O);H!==null;){if(H.callback===null)b(O);else if(H.startTime<=_)b(O),H.sortIndex=H.expirationTime,m(y,H);else break;H=u(O)}}function de(_){if(I=!1,ee(_),!B)if(u(y)!==null)B=!0,oe(P);else{var H=u(O);H!==null&&K(de,H.startTime-_)}}function P(_,H){B=!1,I&&(I=!1,fe(j),j=-1),se=!0;var z=V;try{for(ee(H),L=u(y);L!==null&&(!(L.expirationTime>H)||_&&!q());){var f=L.callback;if(typeof f=="function"){L.callback=null,V=L.priorityLevel;var M=f(L.expirationTime<=H);H=d.unstable_now(),typeof M=="function"?L.callback=M:L===u(y)&&b(y),ee(H)}else b(y);L=u(y)}if(L!==null)var xe=!0;else{var ke=u(O);ke!==null&&K(de,ke.startTime-H),xe=!1}return xe}finally{L=null,V=z,se=!1}}var Q=!1,te=null,j=-1,U=5,ce=-1;function q(){return!(d.unstable_now()-ce<U)}function $(){if(te!==null){var _=d.unstable_now();ce=_;var H=!0;try{H=te(!0,_)}finally{H?Y():(Q=!1,te=null)}}else Q=!1}var Y;if(typeof ve=="function")Y=function(){ve($)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ye=X.port2;X.port1.onmessage=$,Y=function(){ye.postMessage(null)}}else Y=function(){D($,0)};function oe(_){te=_,Q||(Q=!0,Y())}function K(_,H){j=D(function(){_(d.unstable_now())},H)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(_){_.callback=null},d.unstable_continueExecution=function(){B||se||(B=!0,oe(P))},d.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<_?Math.floor(1e3/_):5},d.unstable_getCurrentPriorityLevel=function(){return V},d.unstable_getFirstCallbackNode=function(){return u(y)},d.unstable_next=function(_){switch(V){case 1:case 2:case 3:var H=3;break;default:H=V}var z=V;V=H;try{return _()}finally{V=z}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(_,H){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var z=V;V=_;try{return H()}finally{V=z}},d.unstable_scheduleCallback=function(_,H,z){var f=d.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?f+z:f):z=f,_){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=z+M,_={id:S++,callback:H,priorityLevel:_,startTime:z,expirationTime:M,sortIndex:-1},z>f?(_.sortIndex=z,m(O,_),u(y)===null&&_===u(O)&&(I?(fe(j),j=-1):I=!0,K(de,z-f))):(_.sortIndex=M,m(y,_),B||se||(B=!0,oe(P))),_},d.unstable_shouldYield=q,d.unstable_wrapCallback=function(_){var H=V;return function(){var z=V;V=H;try{return _.apply(this,arguments)}finally{V=z}}}}(_o)),_o}var id;function xf(){return id||(id=1,Io.exports=hf()),Io.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function gf(){if(ud)return mt;ud=1;var d=To(),m=xf();function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b=new Set,k={};function w(e,t){N(e,t),N(e+"Capture",t)}function N(e,t){for(k[e]=t,e=0;e<t.length;e++)b.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,O=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},L={};function V(e){return y.call(L,e)?!0:y.call(S,e)?!1:O.test(e)?L[e]=!0:(S[e]=!0,!1)}function se(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B(e,t,n,r){if(t===null||typeof t>"u"||se(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function I(e,t,n,r,l,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){D[e]=new I(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];D[t]=new I(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){D[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){D[e]=new I(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){D[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){D[e]=new I(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){D[e]=new I(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){D[e]=new I(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){D[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)});var fe=/[\-:]([a-z])/g;function ve(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fe,ve);D[t]=new I(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fe,ve);D[t]=new I(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fe,ve);D[t]=new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){D[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)}),D.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){D[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)});function ee(e,t,n,r){var l=D.hasOwnProperty(t)?D[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B(t,n,l,r)&&(n=null),r||l===null?V(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var de=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),Q=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),q=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),_=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=_&&e[_]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,f;function M(e){if(f===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);f=t&&t[1]||""}return`
`+f+e}var xe=!1;function ke(e,t){if(!e||xe)return"";xe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var l=v.stack.split(`
`),a=r.stack.split(`
`),o=l.length-1,i=a.length-1;1<=o&&0<=i&&l[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(l[o]!==a[i]){if(o!==1||i!==1)do if(o--,i--,0>i||l[o]!==a[i]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{xe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function we(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=ke(e.type,!1),e;case 11:return e=ke(e.type.render,!1),e;case 1:return e=ke(e.type,!0),e;default:return""}}function Ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case Q:return"Portal";case U:return"Profiler";case j:return"StrictMode";case Y:return"Suspense";case X:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Consumer";case ce:return(e._context.displayName||"Context")+".Provider";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}function De(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function et(e){var t=_e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xt(e){e._valueTracker||(e._valueTracker=et(e))}function Ir(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _r(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jl(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=be(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lr(e,t){t=t.checked,t!=null&&ee(e,"checked",t,!1)}function qt(e,t){Lr(e,t);var n=be(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tr(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tr(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tr(e,t,n){(t!=="number"||rr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rn=Array.isArray;function on(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function un(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(u(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(u(92));if(Rn(n)){if(1<n.length)throw Error(u(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:be(n)}}function Sl(e,t){var n=be(t.value),r=be(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lr,Cl=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lr=lr||document.createElement("div"),lr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ws=["Webkit","ms","Moz","O"];Object.keys($n).forEach(function(e){Ws.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$n[t]=$n[e]})});function sr(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$n.hasOwnProperty(e)&&$n[e]?(""+t).trim():t+"px"}function El(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=sr(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Vs=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function An(e,t){if(t){if(Vs[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(u(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(u(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(t.style!=null&&typeof t.style!="object")throw Error(u(62))}}function On(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zr=null;function _t(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rr=null,fn=null,pn=null;function Ml(e){if(e=rl(e)){if(typeof Rr!="function")throw Error(u(280));var t=e.stateNode;t&&(t=ts(t),Rr(e.stateNode,e.type,t))}}function Dl(e){fn?pn?pn.push(e):pn=[e]:fn=e}function Il(){if(fn){var e=fn,t=pn;if(pn=fn=null,Ml(e),t)for(e=0;e<t.length;e++)Ml(t[e])}}function _l(e,t){return e(t)}function Ll(){}var $r=!1;function Tl(e,t,n){if($r)return e(t,n);$r=!0;try{return _l(e,t,n)}finally{$r=!1,(fn!==null||pn!==null)&&(Ll(),Il())}}function mn(e,t){var n=e.stateNode;if(n===null)return null;var r=ts(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var Pl=!1;if(g)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Pl=!1}function Hs(e,t,n,r,l,a,o,i,c){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(R){this.onError(R)}}var C=!1,Z=null,W=!1,pe=null,ae={onError:function(e){C=!0,Z=e}};function Ae(e,t,n,r,l,a,o,i,c){C=!1,Z=null,Hs.apply(ae,arguments)}function Re(e,t,n,r,l,a,o,i,c){if(Ae.apply(this,arguments),C){if(C){var v=Z;C=!1,Z=null}else throw Error(u(198));W||(W=!0,pe=v)}}function ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Te(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lt(e){if(ge(e)!==e)throw Error(u(188))}function xt(e){var t=e.alternate;if(!t){if(t=ge(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Lt(l),e;if(a===r)return Lt(l),t;a=a.sibling}throw Error(u(188))}if(n.return!==r.return)n=l,r=a;else{for(var o=!1,i=l.child;i;){if(i===n){o=!0,n=l,r=a;break}if(i===r){o=!0,r=l,n=a;break}i=i.sibling}if(!o){for(i=a.child;i;){if(i===n){o=!0,n=a,r=l;break}if(i===r){o=!0,r=a,n=l;break}i=i.sibling}if(!o)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function at(e){return e=xt(e),e!==null?jt(e):null}function jt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jt(e);if(t!==null)return t;e=e.sibling}return null}var Zt=m.unstable_scheduleCallback,tt=m.unstable_cancelCallback,Tt=m.unstable_shouldYield,gt=m.unstable_requestPaint,Se=m.unstable_now,or=m.unstable_getCurrentPriorityLevel,Fn=m.unstable_ImmediatePriority,Ar=m.unstable_UserBlockingPriority,Bn=m.unstable_NormalPriority,zl=m.unstable_LowPriority,Qs=m.unstable_IdlePriority,Rl=null,Vt=null;function Cd(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Rl,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Dd,Ed=Math.log,Md=Math.LN2;function Dd(e){return e>>>=0,e===0?32:31-(Ed(e)/Md|0)|0}var $l=64,Al=4194304;function Or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ol(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~l;i!==0?r=Or(i):(a&=o,a!==0&&(r=Or(a)))}else o=n&~l,o!==0?r=Or(o):a!==0&&(r=Or(a));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),l=1<<n,r|=e[n],t&=~l;return r}function Id(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _d(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Pt(a),i=1<<o,c=l[o];c===-1?((i&n)===0||(i&r)!==0)&&(l[o]=Id(i,t)):c<=t&&(e.expiredLanes|=i),a&=~i}}function Ys(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Po(){var e=$l;return $l<<=1,($l&4194240)===0&&($l=64),e}function Ks(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function Ld(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Pt(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function Gs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Me=0;function zo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ro,Xs,$o,Ao,Oo,qs=!1,Fl=[],hn=null,xn=null,gn=null,Br=new Map,Ur=new Map,vn=[],Td="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fo(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function Wr(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=rl(t),t!==null&&Xs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Pd(e,t,n,r,l){switch(t){case"focusin":return hn=Wr(hn,e,t,n,r,l),!0;case"dragenter":return xn=Wr(xn,e,t,n,r,l),!0;case"mouseover":return gn=Wr(gn,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return Br.set(a,Wr(Br.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,Ur.set(a,Wr(Ur.get(a)||null,e,t,n,r,l)),!0}return!1}function Bo(e){var t=Un(e.target);if(t!==null){var n=ge(t);if(n!==null){if(t=n.tag,t===13){if(t=Te(n),t!==null){e.blockedOn=t,Oo(e.priority,function(){$o(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Js(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zr=r,n.target.dispatchEvent(r),zr=null}else return t=rl(n),t!==null&&Xs(t),e.blockedOn=n,!1;t.shift()}return!0}function Uo(e,t,n){Bl(e)&&n.delete(t)}function zd(){qs=!1,hn!==null&&Bl(hn)&&(hn=null),xn!==null&&Bl(xn)&&(xn=null),gn!==null&&Bl(gn)&&(gn=null),Br.forEach(Uo),Ur.forEach(Uo)}function Vr(e,t){e.blockedOn===t&&(e.blockedOn=null,qs||(qs=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,zd)))}function Hr(e){function t(l){return Vr(l,e)}if(0<Fl.length){Vr(Fl[0],e);for(var n=1;n<Fl.length;n++){var r=Fl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&Vr(hn,e),xn!==null&&Vr(xn,e),gn!==null&&Vr(gn,e),Br.forEach(t),Ur.forEach(t),n=0;n<vn.length;n++)r=vn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)Bo(n),n.blockedOn===null&&vn.shift()}var ir=de.ReactCurrentBatchConfig,Ul=!0;function Rd(e,t,n,r){var l=Me,a=ir.transition;ir.transition=null;try{Me=1,Zs(e,t,n,r)}finally{Me=l,ir.transition=a}}function $d(e,t,n,r){var l=Me,a=ir.transition;ir.transition=null;try{Me=4,Zs(e,t,n,r)}finally{Me=l,ir.transition=a}}function Zs(e,t,n,r){if(Ul){var l=Js(e,t,n,r);if(l===null)xa(e,t,r,Wl,n),Fo(e,r);else if(Pd(l,e,t,n,r))r.stopPropagation();else if(Fo(e,r),t&4&&-1<Td.indexOf(e)){for(;l!==null;){var a=rl(l);if(a!==null&&Ro(a),a=Js(e,t,n,r),a===null&&xa(e,t,r,Wl,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else xa(e,t,r,null,n)}}var Wl=null;function Js(e,t,n,r){if(Wl=null,e=_t(r),e=Un(e),e!==null)if(t=ge(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Te(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wl=e,null}function Wo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(or()){case Fn:return 1;case Ar:return 4;case Bn:case zl:return 16;case Qs:return 536870912;default:return 16}default:return 16}}var yn=null,ea=null,Vl=null;function Vo(){if(Vl)return Vl;var e,t=ea,n=t.length,r,l="value"in yn?yn.value:yn.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[a-r];r++);return Vl=l.slice(e,1<r?1-r:void 0)}function Hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ql(){return!0}function Ho(){return!1}function vt(e){function t(n,r,l,a,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ql:Ho,this.isPropagationStopped=Ho,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),t}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=vt(ur),Qr=z({},ur,{view:0,detail:0}),Ad=vt(Qr),na,ra,Yr,Yl=z({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(na=e.screenX-Yr.screenX,ra=e.screenY-Yr.screenY):ra=na=0,Yr=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Qo=vt(Yl),Od=z({},Yl,{dataTransfer:0}),Fd=vt(Od),Bd=z({},Qr,{relatedTarget:0}),la=vt(Bd),Ud=z({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Wd=vt(Ud),Vd=z({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hd=vt(Vd),Qd=z({},ur,{data:0}),Yo=vt(Qd),Yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gd[e])?!!t[e]:!1}function sa(){return Xd}var qd=z({},Qr,{key:function(e){if(e.key){var t=Yd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zd=vt(qd),Jd=z({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=vt(Jd),ec=z({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),tc=vt(ec),nc=z({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),rc=vt(nc),lc=z({},Yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sc=vt(lc),ac=[9,13,27,32],aa=g&&"CompositionEvent"in window,Kr=null;g&&"documentMode"in document&&(Kr=document.documentMode);var oc=g&&"TextEvent"in window&&!Kr,Go=g&&(!aa||Kr&&8<Kr&&11>=Kr),Xo=" ",qo=!1;function Zo(e,t){switch(e){case"keyup":return ac.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function ic(e,t){switch(e){case"compositionend":return Jo(t);case"keypress":return t.which!==32?null:(qo=!0,Xo);case"textInput":return e=t.data,e===Xo&&qo?null:e;default:return null}}function uc(e,t){if(dr)return e==="compositionend"||!aa&&Zo(e,t)?(e=Vo(),Vl=ea=yn=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Go&&t.locale!=="ko"?null:t.data;default:return null}}var dc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dc[e.type]:t==="textarea"}function ti(e,t,n,r){Dl(r),t=Zl(t,"onChange"),0<t.length&&(n=new ta("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gr=null,Xr=null;function cc(e){yi(e,0)}function Kl(e){var t=hr(e);if(Ir(t))return e}function fc(e,t){if(e==="change")return t}var ni=!1;if(g){var oa;if(g){var ia="oninput"in document;if(!ia){var ri=document.createElement("div");ri.setAttribute("oninput","return;"),ia=typeof ri.oninput=="function"}oa=ia}else oa=!1;ni=oa&&(!document.documentMode||9<document.documentMode)}function li(){Gr&&(Gr.detachEvent("onpropertychange",si),Xr=Gr=null)}function si(e){if(e.propertyName==="value"&&Kl(Xr)){var t=[];ti(t,Xr,e,_t(e)),Tl(cc,t)}}function pc(e,t,n){e==="focusin"?(li(),Gr=t,Xr=n,Gr.attachEvent("onpropertychange",si)):e==="focusout"&&li()}function mc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kl(Xr)}function hc(e,t){if(e==="click")return Kl(t)}function xc(e,t){if(e==="input"||e==="change")return Kl(t)}function gc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:gc;function qr(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!y.call(t,l)||!zt(e[l],t[l]))return!1}return!0}function ai(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oi(e,t){var n=ai(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ai(n)}}function ii(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ii(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ui(){for(var e=window,t=rr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rr(e.document)}return t}function ua(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vc(e){var t=ui(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ii(n.ownerDocument.documentElement,n)){if(r!==null&&ua(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=oi(n,a);var o=oi(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yc=g&&"documentMode"in document&&11>=document.documentMode,cr=null,da=null,Zr=null,ca=!1;function di(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ca||cr==null||cr!==rr(r)||(r=cr,"selectionStart"in r&&ua(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zr&&qr(Zr,r)||(Zr=r,r=Zl(da,"onSelect"),0<r.length&&(t=new ta("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function Gl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},fa={},ci={};g&&(ci=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Xl(e){if(fa[e])return fa[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ci)return fa[e]=t[n];return e}var fi=Xl("animationend"),pi=Xl("animationiteration"),mi=Xl("animationstart"),hi=Xl("transitionend"),xi=new Map,gi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){xi.set(e,t),w(t,[e])}for(var pa=0;pa<gi.length;pa++){var ma=gi[pa],kc=ma.toLowerCase(),wc=ma[0].toUpperCase()+ma.slice(1);kn(kc,"on"+wc)}kn(fi,"onAnimationEnd"),kn(pi,"onAnimationIteration"),kn(mi,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(hi,"onTransitionEnd"),N("onMouseEnter",["mouseout","mouseover"]),N("onMouseLeave",["mouseout","mouseover"]),N("onPointerEnter",["pointerout","pointerover"]),N("onPointerLeave",["pointerout","pointerover"]),w("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),w("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),w("onBeforeInput",["compositionend","keypress","textInput","paste"]),w("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),w("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),w("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jc=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jr));function vi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Re(r,t,void 0,e),e.currentTarget=null}function yi(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],c=i.instance,v=i.currentTarget;if(i=i.listener,c!==a&&l.isPropagationStopped())break e;vi(l,i,v),a=c}else for(o=0;o<r.length;o++){if(i=r[o],c=i.instance,v=i.currentTarget,i=i.listener,c!==a&&l.isPropagationStopped())break e;vi(l,i,v),a=c}}}if(W)throw e=pe,W=!1,pe=null,e}function Pe(e,t){var n=t[ja];n===void 0&&(n=t[ja]=new Set);var r=e+"__bubble";n.has(r)||(ki(t,e,2,!1),n.add(r))}function ha(e,t,n){var r=0;t&&(r|=4),ki(n,e,r,t)}var ql="_reactListening"+Math.random().toString(36).slice(2);function el(e){if(!e[ql]){e[ql]=!0,b.forEach(function(n){n!=="selectionchange"&&(jc.has(n)||ha(n,!1,e),ha(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ql]||(t[ql]=!0,ha("selectionchange",!1,t))}}function ki(e,t,n,r){switch(Wo(t)){case 1:var l=Rd;break;case 4:l=$d;break;default:l=Zs}n=l.bind(null,t,n,e),l=void 0,!Pl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function xa(e,t,n,r,l){var a=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;i!==null;){if(o=Un(i),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}i=i.parentNode}}r=r.return}Tl(function(){var v=a,R=_t(n),A=[];e:{var T=xi.get(e);if(T!==void 0){var G=ta,ne=e;switch(e){case"keypress":if(Hl(n)===0)break e;case"keydown":case"keyup":G=Zd;break;case"focusin":ne="focus",G=la;break;case"focusout":ne="blur",G=la;break;case"beforeblur":case"afterblur":G=la;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=tc;break;case fi:case pi:case mi:G=Wd;break;case hi:G=rc;break;case"scroll":G=Ad;break;case"wheel":G=sc;break;case"copy":case"cut":case"paste":G=Hd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ko}var re=(t&4)!==0,Ue=!re&&e==="scroll",h=re?T!==null?T+"Capture":null:T;re=[];for(var p=v,x;p!==null;){x=p;var F=x.stateNode;if(x.tag===5&&F!==null&&(x=F,h!==null&&(F=mn(p,h),F!=null&&re.push(tl(p,F,x)))),Ue)break;p=p.return}0<re.length&&(T=new G(T,ne,null,n,R),A.push({event:T,listeners:re}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",T&&n!==zr&&(ne=n.relatedTarget||n.fromElement)&&(Un(ne)||ne[Jt]))break e;if((G||T)&&(T=R.window===R?R:(T=R.ownerDocument)?T.defaultView||T.parentWindow:window,G?(ne=n.relatedTarget||n.toElement,G=v,ne=ne?Un(ne):null,ne!==null&&(Ue=ge(ne),ne!==Ue||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(G=null,ne=v),G!==ne)){if(re=Qo,F="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(re=Ko,F="onPointerLeave",h="onPointerEnter",p="pointer"),Ue=G==null?T:hr(G),x=ne==null?T:hr(ne),T=new re(F,p+"leave",G,n,R),T.target=Ue,T.relatedTarget=x,F=null,Un(R)===v&&(re=new re(h,p+"enter",ne,n,R),re.target=x,re.relatedTarget=Ue,F=re),Ue=F,G&&ne)t:{for(re=G,h=ne,p=0,x=re;x;x=pr(x))p++;for(x=0,F=h;F;F=pr(F))x++;for(;0<p-x;)re=pr(re),p--;for(;0<x-p;)h=pr(h),x--;for(;p--;){if(re===h||h!==null&&re===h.alternate)break t;re=pr(re),h=pr(h)}re=null}else re=null;G!==null&&wi(A,T,G,re,!1),ne!==null&&Ue!==null&&wi(A,Ue,ne,re,!0)}}e:{if(T=v?hr(v):window,G=T.nodeName&&T.nodeName.toLowerCase(),G==="select"||G==="input"&&T.type==="file")var le=fc;else if(ei(T))if(ni)le=xc;else{le=mc;var ie=pc}else(G=T.nodeName)&&G.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(le=hc);if(le&&(le=le(e,v))){ti(A,le,n,R);break e}ie&&ie(e,T,v),e==="focusout"&&(ie=T._wrapperState)&&ie.controlled&&T.type==="number"&&Tr(T,"number",T.value)}switch(ie=v?hr(v):window,e){case"focusin":(ei(ie)||ie.contentEditable==="true")&&(cr=ie,da=v,Zr=null);break;case"focusout":Zr=da=cr=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,di(A,n,R);break;case"selectionchange":if(yc)break;case"keydown":case"keyup":di(A,n,R)}var ue;if(aa)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else dr?Zo(e,n)&&(he="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(he="onCompositionStart");he&&(Go&&n.locale!=="ko"&&(dr||he!=="onCompositionStart"?he==="onCompositionEnd"&&dr&&(ue=Vo()):(yn=R,ea="value"in yn?yn.value:yn.textContent,dr=!0)),ie=Zl(v,he),0<ie.length&&(he=new Yo(he,e,null,n,R),A.push({event:he,listeners:ie}),ue?he.data=ue:(ue=Jo(n),ue!==null&&(he.data=ue)))),(ue=oc?ic(e,n):uc(e,n))&&(v=Zl(v,"onBeforeInput"),0<v.length&&(R=new Yo("onBeforeInput","beforeinput",null,n,R),A.push({event:R,listeners:v}),R.data=ue))}yi(A,t)})}function tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=mn(e,n),a!=null&&r.unshift(tl(e,a,l)),a=mn(e,t),a!=null&&r.push(tl(e,a,l))),e=e.return}return r}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wi(e,t,n,r,l){for(var a=t._reactName,o=[];n!==null&&n!==r;){var i=n,c=i.alternate,v=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&v!==null&&(i=v,l?(c=mn(n,a),c!=null&&o.unshift(tl(n,c,i))):l||(c=mn(n,a),c!=null&&o.push(tl(n,c,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Nc=/\r\n?/g,bc=/\u0000|\uFFFD/g;function ji(e){return(typeof e=="string"?e:""+e).replace(Nc,`
`).replace(bc,"")}function Jl(e,t,n){if(t=ji(t),ji(e)!==t&&n)throw Error(u(425))}function es(){}var ga=null,va=null;function ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ka=typeof setTimeout=="function"?setTimeout:void 0,Sc=typeof clearTimeout=="function"?clearTimeout:void 0,Ni=typeof Promise=="function"?Promise:void 0,Cc=typeof queueMicrotask=="function"?queueMicrotask:typeof Ni<"u"?function(e){return Ni.resolve(null).then(e).catch(Ec)}:ka;function Ec(e){setTimeout(function(){throw e})}function wa(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Hr(t)}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+mr,nl="__reactProps$"+mr,Jt="__reactContainer$"+mr,ja="__reactEvents$"+mr,Mc="__reactListeners$"+mr,Dc="__reactHandles$"+mr;function Un(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bi(e);e!==null;){if(n=e[Ht])return n;e=bi(e)}return t}e=n,n=e.parentNode}return null}function rl(e){return e=e[Ht]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(u(33))}function ts(e){return e[nl]||null}var Na=[],xr=-1;function jn(e){return{current:e}}function ze(e){0>xr||(e.current=Na[xr],Na[xr]=null,xr--)}function Le(e,t){xr++,Na[xr]=e.current,e.current=t}var Nn={},nt=jn(Nn),ut=jn(!1),Wn=Nn;function gr(e,t){var n=e.type.contextTypes;if(!n)return Nn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function dt(e){return e=e.childContextTypes,e!=null}function ns(){ze(ut),ze(nt)}function Si(e,t,n){if(nt.current!==Nn)throw Error(u(168));Le(nt,t),Le(ut,n)}function Ci(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(u(108,De(e)||"Unknown",l));return z({},n,r)}function rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nn,Wn=nt.current,Le(nt,e),Le(ut,ut.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(e=Ci(e,t,Wn),r.__reactInternalMemoizedMergedChildContext=e,ze(ut),ze(nt),Le(nt,e)):ze(ut),Le(ut,n)}var en=null,ls=!1,ba=!1;function Mi(e){en===null?en=[e]:en.push(e)}function Ic(e){ls=!0,Mi(e)}function bn(){if(!ba&&en!==null){ba=!0;var e=0,t=Me;try{var n=en;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}en=null,ls=!1}catch(l){throw en!==null&&(en=en.slice(e+1)),Zt(Fn,bn),l}finally{Me=t,ba=!1}}return null}var vr=[],yr=0,ss=null,as=0,Nt=[],bt=0,Vn=null,tn=1,nn="";function Hn(e,t){vr[yr++]=as,vr[yr++]=ss,ss=e,as=t}function Di(e,t,n){Nt[bt++]=tn,Nt[bt++]=nn,Nt[bt++]=Vn,Vn=e;var r=tn;e=nn;var l=32-Pt(r)-1;r&=~(1<<l),n+=1;var a=32-Pt(t)+l;if(30<a){var o=l-l%5;a=(r&(1<<o)-1).toString(32),r>>=o,l-=o,tn=1<<32-Pt(t)+l|n<<l|r,nn=a+e}else tn=1<<a|n<<l|r,nn=e}function Sa(e){e.return!==null&&(Hn(e,1),Di(e,1,0))}function Ca(e){for(;e===ss;)ss=vr[--yr],vr[yr]=null,as=vr[--yr],vr[yr]=null;for(;e===Vn;)Vn=Nt[--bt],Nt[bt]=null,nn=Nt[--bt],Nt[bt]=null,tn=Nt[--bt],Nt[bt]=null}var yt=null,kt=null,$e=!1,Rt=null;function Ii(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _i(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,kt=wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vn!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,kt=null,!0):!1;default:return!1}}function Ea(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ma(e){if($e){var t=kt;if(t){var n=t;if(!_i(e,t)){if(Ea(e))throw Error(u(418));t=wn(n.nextSibling);var r=yt;t&&_i(e,t)?Ii(r,n):(e.flags=e.flags&-4097|2,$e=!1,yt=e)}}else{if(Ea(e))throw Error(u(418));e.flags=e.flags&-4097|2,$e=!1,yt=e}}}function Li(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function os(e){if(e!==yt)return!1;if(!$e)return Li(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ya(e.type,e.memoizedProps)),t&&(t=kt)){if(Ea(e))throw Ti(),Error(u(418));for(;t;)Ii(e,t),t=wn(t.nextSibling)}if(Li(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kt=wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=yt?wn(e.stateNode.nextSibling):null;return!0}function Ti(){for(var e=kt;e;)e=wn(e.nextSibling)}function kr(){kt=yt=null,$e=!1}function Da(e){Rt===null?Rt=[e]:Rt.push(e)}var _c=de.ReactCurrentBatchConfig;function ll(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var i=l.refs;o===null?delete i[a]:i[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function is(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pi(e){var t=e._init;return t(e._payload)}function zi(e){function t(h,p){if(e){var x=h.deletions;x===null?(h.deletions=[p],h.flags|=16):x.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function l(h,p){return h=Ln(h,p),h.index=0,h.sibling=null,h}function a(h,p,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<p?(h.flags|=2,p):x):(h.flags|=2,p)):(h.flags|=1048576,p)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,p,x,F){return p===null||p.tag!==6?(p=wo(x,h.mode,F),p.return=h,p):(p=l(p,x),p.return=h,p)}function c(h,p,x,F){var le=x.type;return le===te?R(h,p,x.props.children,F,x.key):p!==null&&(p.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===oe&&Pi(le)===p.type)?(F=l(p,x.props),F.ref=ll(h,p,x),F.return=h,F):(F=Ls(x.type,x.key,x.props,null,h.mode,F),F.ref=ll(h,p,x),F.return=h,F)}function v(h,p,x,F){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=jo(x,h.mode,F),p.return=h,p):(p=l(p,x.children||[]),p.return=h,p)}function R(h,p,x,F,le){return p===null||p.tag!==7?(p=Jn(x,h.mode,F,le),p.return=h,p):(p=l(p,x),p.return=h,p)}function A(h,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=wo(""+p,h.mode,x),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case P:return x=Ls(p.type,p.key,p.props,null,h.mode,x),x.ref=ll(h,null,p),x.return=h,x;case Q:return p=jo(p,h.mode,x),p.return=h,p;case oe:var F=p._init;return A(h,F(p._payload),x)}if(Rn(p)||H(p))return p=Jn(p,h.mode,x,null),p.return=h,p;is(h,p)}return null}function T(h,p,x,F){var le=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return le!==null?null:i(h,p,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case P:return x.key===le?c(h,p,x,F):null;case Q:return x.key===le?v(h,p,x,F):null;case oe:return le=x._init,T(h,p,le(x._payload),F)}if(Rn(x)||H(x))return le!==null?null:R(h,p,x,F,null);is(h,x)}return null}function G(h,p,x,F,le){if(typeof F=="string"&&F!==""||typeof F=="number")return h=h.get(x)||null,i(p,h,""+F,le);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case P:return h=h.get(F.key===null?x:F.key)||null,c(p,h,F,le);case Q:return h=h.get(F.key===null?x:F.key)||null,v(p,h,F,le);case oe:var ie=F._init;return G(h,p,x,ie(F._payload),le)}if(Rn(F)||H(F))return h=h.get(x)||null,R(p,h,F,le,null);is(p,F)}return null}function ne(h,p,x,F){for(var le=null,ie=null,ue=p,he=p=0,Ke=null;ue!==null&&he<x.length;he++){ue.index>he?(Ke=ue,ue=null):Ke=ue.sibling;var Ee=T(h,ue,x[he],F);if(Ee===null){ue===null&&(ue=Ke);break}e&&ue&&Ee.alternate===null&&t(h,ue),p=a(Ee,p,he),ie===null?le=Ee:ie.sibling=Ee,ie=Ee,ue=Ke}if(he===x.length)return n(h,ue),$e&&Hn(h,he),le;if(ue===null){for(;he<x.length;he++)ue=A(h,x[he],F),ue!==null&&(p=a(ue,p,he),ie===null?le=ue:ie.sibling=ue,ie=ue);return $e&&Hn(h,he),le}for(ue=r(h,ue);he<x.length;he++)Ke=G(ue,h,he,x[he],F),Ke!==null&&(e&&Ke.alternate!==null&&ue.delete(Ke.key===null?he:Ke.key),p=a(Ke,p,he),ie===null?le=Ke:ie.sibling=Ke,ie=Ke);return e&&ue.forEach(function(Tn){return t(h,Tn)}),$e&&Hn(h,he),le}function re(h,p,x,F){var le=H(x);if(typeof le!="function")throw Error(u(150));if(x=le.call(x),x==null)throw Error(u(151));for(var ie=le=null,ue=p,he=p=0,Ke=null,Ee=x.next();ue!==null&&!Ee.done;he++,Ee=x.next()){ue.index>he?(Ke=ue,ue=null):Ke=ue.sibling;var Tn=T(h,ue,Ee.value,F);if(Tn===null){ue===null&&(ue=Ke);break}e&&ue&&Tn.alternate===null&&t(h,ue),p=a(Tn,p,he),ie===null?le=Tn:ie.sibling=Tn,ie=Tn,ue=Ke}if(Ee.done)return n(h,ue),$e&&Hn(h,he),le;if(ue===null){for(;!Ee.done;he++,Ee=x.next())Ee=A(h,Ee.value,F),Ee!==null&&(p=a(Ee,p,he),ie===null?le=Ee:ie.sibling=Ee,ie=Ee);return $e&&Hn(h,he),le}for(ue=r(h,ue);!Ee.done;he++,Ee=x.next())Ee=G(ue,h,he,Ee.value,F),Ee!==null&&(e&&Ee.alternate!==null&&ue.delete(Ee.key===null?he:Ee.key),p=a(Ee,p,he),ie===null?le=Ee:ie.sibling=Ee,ie=Ee);return e&&ue.forEach(function(cf){return t(h,cf)}),$e&&Hn(h,he),le}function Ue(h,p,x,F){if(typeof x=="object"&&x!==null&&x.type===te&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case P:e:{for(var le=x.key,ie=p;ie!==null;){if(ie.key===le){if(le=x.type,le===te){if(ie.tag===7){n(h,ie.sibling),p=l(ie,x.props.children),p.return=h,h=p;break e}}else if(ie.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===oe&&Pi(le)===ie.type){n(h,ie.sibling),p=l(ie,x.props),p.ref=ll(h,ie,x),p.return=h,h=p;break e}n(h,ie);break}else t(h,ie);ie=ie.sibling}x.type===te?(p=Jn(x.props.children,h.mode,F,x.key),p.return=h,h=p):(F=Ls(x.type,x.key,x.props,null,h.mode,F),F.ref=ll(h,p,x),F.return=h,h=F)}return o(h);case Q:e:{for(ie=x.key;p!==null;){if(p.key===ie)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){n(h,p.sibling),p=l(p,x.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=jo(x,h.mode,F),p.return=h,h=p}return o(h);case oe:return ie=x._init,Ue(h,p,ie(x._payload),F)}if(Rn(x))return ne(h,p,x,F);if(H(x))return re(h,p,x,F);is(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(n(h,p.sibling),p=l(p,x),p.return=h,h=p):(n(h,p),p=wo(x,h.mode,F),p.return=h,h=p),o(h)):n(h,p)}return Ue}var wr=zi(!0),Ri=zi(!1),us=jn(null),ds=null,jr=null,Ia=null;function _a(){Ia=jr=ds=null}function La(e){var t=us.current;ze(us),e._currentValue=t}function Ta(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nr(e,t){ds=e,Ia=jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ct=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(Ia!==e)if(e={context:e,memoizedValue:t,next:null},jr===null){if(ds===null)throw Error(u(308));jr=e,ds.dependencies={lanes:0,firstContext:e}}else jr=jr.next=e;return t}var Qn=null;function Pa(e){Qn===null?Qn=[e]:Qn.push(e)}function $i(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Pa(t)):(n.next=l.next,l.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function za(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ce&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,rn(e,n)}return l=r.interleaved,l===null?(t.next=t,Pa(r)):(t.next=l.next,l.next=t),r.interleaved=t,rn(e,n)}function cs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gs(e,n)}}function Oi(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fs(e,t,n,r){var l=e.updateQueue;Sn=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var c=i,v=c.next;c.next=null,o===null?a=v:o.next=v,o=c;var R=e.alternate;R!==null&&(R=R.updateQueue,i=R.lastBaseUpdate,i!==o&&(i===null?R.firstBaseUpdate=v:i.next=v,R.lastBaseUpdate=c))}if(a!==null){var A=l.baseState;o=0,R=v=c=null,i=a;do{var T=i.lane,G=i.eventTime;if((r&T)===T){R!==null&&(R=R.next={eventTime:G,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var ne=e,re=i;switch(T=t,G=n,re.tag){case 1:if(ne=re.payload,typeof ne=="function"){A=ne.call(G,A,T);break e}A=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=re.payload,T=typeof ne=="function"?ne.call(G,A,T):ne,T==null)break e;A=z({},A,T);break e;case 2:Sn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,T=l.effects,T===null?l.effects=[i]:T.push(i))}else G={eventTime:G,lane:T,tag:i.tag,payload:i.payload,callback:i.callback,next:null},R===null?(v=R=G,c=A):R=R.next=G,o|=T;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;T=i,i=T.next,T.next=null,l.lastBaseUpdate=T,l.shared.pending=null}}while(!0);if(R===null&&(c=A),l.baseState=c,l.firstBaseUpdate=v,l.lastBaseUpdate=R,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Gn|=o,e.lanes=o,e.memoizedState=A}}function Fi(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(u(191,l));l.call(r)}}}var sl={},Qt=jn(sl),al=jn(sl),ol=jn(sl);function Yn(e){if(e===sl)throw Error(u(174));return e}function Ra(e,t){switch(Le(ol,t),Le(al,e),Le(Qt,sl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:It(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=It(t,e)}ze(Qt),Le(Qt,t)}function br(){ze(Qt),ze(al),ze(ol)}function Bi(e){Yn(ol.current);var t=Yn(Qt.current),n=It(t,e.type);t!==n&&(Le(al,e),Le(Qt,n))}function $a(e){al.current===e&&(ze(Qt),ze(al))}var Oe=jn(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=[];function Oa(){for(var e=0;e<Aa.length;e++)Aa[e]._workInProgressVersionPrimary=null;Aa.length=0}var ms=de.ReactCurrentDispatcher,Fa=de.ReactCurrentBatchConfig,Kn=0,Fe=null,Ve=null,Qe=null,hs=!1,il=!1,ul=0,Lc=0;function rt(){throw Error(u(321))}function Ba(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zt(e[n],t[n]))return!1;return!0}function Ua(e,t,n,r,l,a){if(Kn=a,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ms.current=e===null||e.memoizedState===null?Rc:$c,e=n(r,l),il){a=0;do{if(il=!1,ul=0,25<=a)throw Error(u(301));a+=1,Qe=Ve=null,t.updateQueue=null,ms.current=Ac,e=n(r,l)}while(il)}if(ms.current=vs,t=Ve!==null&&Ve.next!==null,Kn=0,Qe=Ve=Fe=null,hs=!1,t)throw Error(u(300));return e}function Wa(){var e=ul!==0;return ul=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Fe.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ct(){if(Ve===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Qe===null?Fe.memoizedState:Qe.next;if(t!==null)Qe=t,Ve=e;else{if(e===null)throw Error(u(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Qe===null?Fe.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function dl(e,t){return typeof t=="function"?t(e):t}function Va(e){var t=Ct(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var r=Ve,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var o=l.next;l.next=a.next,a.next=o}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var i=o=null,c=null,v=a;do{var R=v.lane;if((Kn&R)===R)c!==null&&(c=c.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var A={lane:R,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};c===null?(i=c=A,o=r):c=c.next=A,Fe.lanes|=R,Gn|=R}v=v.next}while(v!==null&&v!==a);c===null?o=r:c.next=i,zt(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,Fe.lanes|=a,Gn|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ha(e){var t=Ct(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do a=e(a,o.action),o=o.next;while(o!==l);zt(a,t.memoizedState)||(ct=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ui(){}function Wi(e,t){var n=Fe,r=Ct(),l=t(),a=!zt(r.memoizedState,l);if(a&&(r.memoizedState=l,ct=!0),r=r.queue,Qa(Qi.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,cl(9,Hi.bind(null,n,r,l,t),void 0,null),Ye===null)throw Error(u(349));(Kn&30)!==0||Vi(n,t,l)}return l}function Vi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hi(e,t,n,r){t.value=n,t.getSnapshot=r,Yi(t)&&Ki(e)}function Qi(e,t,n){return n(function(){Yi(t)&&Ki(e)})}function Yi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zt(e,n)}catch{return!0}}function Ki(e){var t=rn(e,1);t!==null&&Ft(t,e,1,-1)}function Gi(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:e},t.queue=e,e=e.dispatch=zc.bind(null,Fe,e),[t.memoizedState,e]}function cl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xi(){return Ct().memoizedState}function xs(e,t,n,r){var l=Yt();Fe.flags|=e,l.memoizedState=cl(1|t,n,void 0,r===void 0?null:r)}function gs(e,t,n,r){var l=Ct();r=r===void 0?null:r;var a=void 0;if(Ve!==null){var o=Ve.memoizedState;if(a=o.destroy,r!==null&&Ba(r,o.deps)){l.memoizedState=cl(t,n,a,r);return}}Fe.flags|=e,l.memoizedState=cl(1|t,n,a,r)}function qi(e,t){return xs(8390656,8,e,t)}function Qa(e,t){return gs(2048,8,e,t)}function Zi(e,t){return gs(4,2,e,t)}function Ji(e,t){return gs(4,4,e,t)}function eu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tu(e,t,n){return n=n!=null?n.concat([e]):null,gs(4,4,eu.bind(null,t,e),n)}function Ya(){}function nu(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ru(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lu(e,t,n){return(Kn&21)===0?(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n):(zt(n,t)||(n=Po(),Fe.lanes|=n,Gn|=n,e.baseState=!0),t)}function Tc(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=Fa.transition;Fa.transition={};try{e(!1),t()}finally{Me=n,Fa.transition=r}}function su(){return Ct().memoizedState}function Pc(e,t,n){var r=In(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},au(e))ou(t,n);else if(n=$i(e,t,n,r),n!==null){var l=it();Ft(n,e,r,l),iu(n,t,r)}}function zc(e,t,n){var r=In(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(au(e))ou(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,i=a(o,n);if(l.hasEagerState=!0,l.eagerState=i,zt(i,o)){var c=t.interleaved;c===null?(l.next=l,Pa(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=$i(e,t,l,r),n!==null&&(l=it(),Ft(n,e,r,l),iu(n,t,r))}}function au(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function ou(e,t){il=hs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gs(e,n)}}var vs={readContext:St,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Rc={readContext:St,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:qi,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xs(4194308,4,eu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return xs(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pc.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:Gi,useDebugValue:Ya,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=Gi(!1),t=e[0];return e=Tc.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Fe,l=Yt();if($e){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),Ye===null)throw Error(u(349));(Kn&30)!==0||Vi(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,qi(Qi.bind(null,r,a,e),[e]),r.flags|=2048,cl(9,Hi.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Yt(),t=Ye.identifierPrefix;if($e){var n=nn,r=tn;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ul++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lc++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$c={readContext:St,useCallback:nu,useContext:St,useEffect:Qa,useImperativeHandle:tu,useInsertionEffect:Zi,useLayoutEffect:Ji,useMemo:ru,useReducer:Va,useRef:Xi,useState:function(){return Va(dl)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ct();return lu(t,Ve.memoizedState,e)},useTransition:function(){var e=Va(dl)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Ui,useSyncExternalStore:Wi,useId:su,unstable_isNewReconciler:!1},Ac={readContext:St,useCallback:nu,useContext:St,useEffect:Qa,useImperativeHandle:tu,useInsertionEffect:Zi,useLayoutEffect:Ji,useMemo:ru,useReducer:Ha,useRef:Xi,useState:function(){return Ha(dl)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ct();return Ve===null?t.memoizedState=e:lu(t,Ve.memoizedState,e)},useTransition:function(){var e=Ha(dl)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Ui,useSyncExternalStore:Wi,useId:su,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=z({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ka(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ys={isMounted:function(e){return(e=e._reactInternals)?ge(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),l=In(e),a=ln(r,l);a.payload=t,n!=null&&(a.callback=n),t=Cn(e,a,l),t!==null&&(Ft(t,e,l,r),cs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),l=In(e),a=ln(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Cn(e,a,l),t!==null&&(Ft(t,e,l,r),cs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=In(e),l=ln(n,r);l.tag=2,t!=null&&(l.callback=t),t=Cn(e,l,r),t!==null&&(Ft(t,e,r,n),cs(t,e,r))}};function uu(e,t,n,r,l,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!qr(n,r)||!qr(l,a):!0}function du(e,t,n){var r=!1,l=Nn,a=t.contextType;return typeof a=="object"&&a!==null?a=St(a):(l=dt(t)?Wn:nt.current,r=t.contextTypes,a=(r=r!=null)?gr(e,l):Nn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ys,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function cu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ys.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},za(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=St(a):(a=dt(t)?Wn:nt.current,l.context=gr(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ka(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ys.enqueueReplaceState(l,l.state,null),fs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Sr(e,t){try{var n="",r=t;do n+=we(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Xa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Oc=typeof WeakMap=="function"?WeakMap:Map;function fu(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cs||(Cs=!0,po=r),qa(e,t)},n}function pu(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){qa(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){qa(e,t),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function mu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Oc;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Jc.bind(null,e,t,n),t.then(e,e))}function hu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,Cn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Fc=de.ReactCurrentOwner,ct=!1;function ot(e,t,n,r){t.child=e===null?Ri(t,null,n,r):wr(t,e.child,n,r)}function gu(e,t,n,r,l){n=n.render;var a=t.ref;return Nr(t,l),r=Ua(e,t,n,r,a,l),n=Wa(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,sn(e,t,l)):($e&&n&&Sa(t),t.flags|=1,ot(e,t,r,l),t.child)}function vu(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!ko(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,yu(e,t,a,r,l)):(e=Ls(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&l)===0){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:qr,n(o,r)&&e.ref===t.ref)return sn(e,t,l)}return t.flags|=1,e=Ln(a,r),e.ref=t.ref,e.return=t,t.child=e}function yu(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(qr(a,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=a,(e.lanes&l)!==0)(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,sn(e,t,l)}return Za(e,t,n,r,l)}function ku(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Er,wt),wt|=n;else{if((n&1073741824)===0)return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Er,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Le(Er,wt),wt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Le(Er,wt),wt|=r;return ot(e,t,l,n),t.child}function wu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Za(e,t,n,r,l){var a=dt(n)?Wn:nt.current;return a=gr(t,a),Nr(t,l),n=Ua(e,t,n,r,a,l),r=Wa(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,sn(e,t,l)):($e&&r&&Sa(t),t.flags|=1,ot(e,t,n,l),t.child)}function ju(e,t,n,r,l){if(dt(n)){var a=!0;rs(t)}else a=!1;if(Nr(t,l),t.stateNode===null)ws(e,t),du(t,n,r),Ga(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,v=n.contextType;typeof v=="object"&&v!==null?v=St(v):(v=dt(n)?Wn:nt.current,v=gr(t,v));var R=n.getDerivedStateFromProps,A=typeof R=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==r||c!==v)&&cu(t,o,r,v),Sn=!1;var T=t.memoizedState;o.state=T,fs(t,r,o,l),c=t.memoizedState,i!==r||T!==c||ut.current||Sn?(typeof R=="function"&&(Ka(t,n,R,r),c=t.memoizedState),(i=Sn||uu(t,n,i,r,T,c,v))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=v,r=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ai(e,t),i=t.memoizedProps,v=t.type===t.elementType?i:$t(t.type,i),o.props=v,A=t.pendingProps,T=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=St(c):(c=dt(n)?Wn:nt.current,c=gr(t,c));var G=n.getDerivedStateFromProps;(R=typeof G=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==A||T!==c)&&cu(t,o,r,c),Sn=!1,T=t.memoizedState,o.state=T,fs(t,r,o,l);var ne=t.memoizedState;i!==A||T!==ne||ut.current||Sn?(typeof G=="function"&&(Ka(t,n,G,r),ne=t.memoizedState),(v=Sn||uu(t,n,v,r,T,ne,c)||!1)?(R||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,ne,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,ne,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ne),o.props=r,o.state=ne,o.context=c,r=v):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),r=!1)}return Ja(e,t,n,r,a,l)}function Ja(e,t,n,r,l,a){wu(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&Ei(t,n,!1),sn(e,t,a);r=t.stateNode,Fc.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=wr(t,e.child,null,a),t.child=wr(t,null,i,a)):ot(e,t,i,a),t.memoizedState=r.state,l&&Ei(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Si(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Si(e,t.context,!1),Ra(e,t.containerInfo)}function bu(e,t,n,r,l){return kr(),Da(l),t.flags|=256,ot(e,t,n,r),t.child}var eo={dehydrated:null,treeContext:null,retryLane:0};function to(e){return{baseLanes:e,cachePool:null,transitions:null}}function Su(e,t,n){var r=t.pendingProps,l=Oe.current,a=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Le(Oe,l&1),e===null)return Ma(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ts(o,r,0,null),e=Jn(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=to(n),t.memoizedState=eo,e):no(t,o));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Bc(e,t,o,r,i,l,n);if(a){a=r.fallback,o=t.mode,l=e.child,i=l.sibling;var c={mode:"hidden",children:r.children};return(o&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ln(l,c),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?a=Ln(i,a):(a=Jn(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?to(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=eo,r}return a=e.child,e=a.sibling,r=Ln(a,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function no(e,t){return t=Ts({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ks(e,t,n,r){return r!==null&&Da(r),wr(t,e.child,null,n),e=no(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bc(e,t,n,r,l,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Xa(Error(u(422))),ks(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=Ts({mode:"visible",children:r.children},l,0,null),a=Jn(a,l,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,(t.mode&1)!==0&&wr(t,e.child,null,o),t.child.memoizedState=to(o),t.memoizedState=eo,a);if((t.mode&1)===0)return ks(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,a=Error(u(419)),r=Xa(a,r,void 0),ks(e,t,o,r)}if(i=(o&e.childLanes)!==0,ct||i){if(r=Ye,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|o))!==0?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,rn(e,l),Ft(r,e,l,-1))}return yo(),r=Xa(Error(u(421))),ks(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=ef.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,kt=wn(l.nextSibling),yt=t,$e=!0,Rt=null,e!==null&&(Nt[bt++]=tn,Nt[bt++]=nn,Nt[bt++]=Vn,tn=e.id,nn=e.overflow,Vn=t),t=no(t,r.children),t.flags|=4096,t)}function Cu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ta(e.return,t,n)}function ro(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function Eu(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(ot(e,t,r.children,n),r=Oe.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cu(e,n,t);else if(e.tag===19)Cu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(Oe,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&ps(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ro(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ps(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ro(t,!0,n,null,a);break;case"together":ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ws(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uc(e,t,n){switch(t.tag){case 3:Nu(t),kr();break;case 5:Bi(t);break;case 1:dt(t.type)&&rs(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Le(us,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(Oe,Oe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Su(e,t,n):(Le(Oe,Oe.current&1),e=sn(e,t,n),e!==null?e.sibling:null);Le(Oe,Oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Eu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Le(Oe,Oe.current),r)break;return null;case 22:case 23:return t.lanes=0,ku(e,t,n)}return sn(e,t,n)}var Mu,lo,Du,Iu;Mu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},lo=function(){},Du=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Yn(Qt.current);var a=null;switch(n){case"input":l=_r(e,l),r=_r(e,r),a=[];break;case"select":l=z({},l,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":l=un(e,l),r=un(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=es)}An(n,r);var o;n=null;for(v in l)if(!r.hasOwnProperty(v)&&l.hasOwnProperty(v)&&l[v]!=null)if(v==="style"){var i=l[v];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(k.hasOwnProperty(v)?a||(a=[]):(a=a||[]).push(v,null));for(v in r){var c=r[v];if(i=l!=null?l[v]:void 0,r.hasOwnProperty(v)&&c!==i&&(c!=null||i!=null))if(v==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(v,n)),n=c;else v==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(a=a||[]).push(v,c)):v==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(v,""+c):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(k.hasOwnProperty(v)?(c!=null&&v==="onScroll"&&Pe("scroll",e),a||i===c||(a=[])):(a=a||[]).push(v,c))}n&&(a=a||[]).push("style",n);var v=a;(t.updateQueue=v)&&(t.flags|=4)}},Iu=function(e,t,n,r){n!==r&&(t.flags|=4)};function fl(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wc(e,t,n){var r=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return dt(t.type)&&ns(),lt(t),null;case 3:return r=t.stateNode,br(),ze(ut),ze(nt),Oa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rt!==null&&(xo(Rt),Rt=null))),lo(e,t),lt(t),null;case 5:$a(t);var l=Yn(ol.current);if(n=t.type,e!==null&&t.stateNode!=null)Du(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(u(166));return lt(t),null}if(e=Yn(Qt.current),os(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ht]=t,r[nl]=a,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(l=0;l<Jr.length;l++)Pe(Jr[l],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":jl(r,a),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Pe("invalid",r);break;case"textarea":bl(r,a),Pe("invalid",r)}An(n,a),l=null;for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];o==="children"?typeof i=="string"?r.textContent!==i&&(a.suppressHydrationWarning!==!0&&Jl(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&Jl(r.textContent,i,e),l=["children",""+i]):k.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Xt(r),Nl(r,a,!0);break;case"textarea":Xt(r),dn(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=es)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pr(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ht]=t,e[nl]=r,Mu(e,t,!1,!1),t.stateNode=e;e:{switch(o=On(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),l=r;break;case"iframe":case"object":case"embed":Pe("load",e),l=r;break;case"video":case"audio":for(l=0;l<Jr.length;l++)Pe(Jr[l],e);l=r;break;case"source":Pe("error",e),l=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),l=r;break;case"details":Pe("toggle",e),l=r;break;case"input":jl(e,r),l=_r(e,r),Pe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=z({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":bl(e,r),l=un(e,r),Pe("invalid",e);break;default:l=r}An(n,l),i=l;for(a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="style"?El(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cl(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&cn(e,c):typeof c=="number"&&cn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(k.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Pe("scroll",e):c!=null&&ee(e,a,c,o))}switch(n){case"input":Xt(e),Nl(e,r,!1);break;case"textarea":Xt(e),dn(e);break;case"option":r.value!=null&&e.setAttribute("value",""+be(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?on(e,!!r.multiple,a,!1):r.defaultValue!=null&&on(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=es)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Iu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(u(166));if(n=Yn(ol.current),Yn(Qt.current),os(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ht]=t,(a=r.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:Jl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jl(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=t,t.stateNode=r}return lt(t),null;case 13:if(ze(Oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&kt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ti(),kr(),t.flags|=98560,a=!1;else if(a=os(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(u(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(u(317));a[Ht]=t}else kr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),a=!1}else Rt!==null&&(xo(Rt),Rt=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Oe.current&1)!==0?He===0&&(He=3):yo())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return br(),lo(e,t),e===null&&el(t.stateNode.containerInfo),lt(t),null;case 10:return La(t.type._context),lt(t),null;case 17:return dt(t.type)&&ns(),lt(t),null;case 19:if(ze(Oe),a=t.memoizedState,a===null)return lt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)fl(a,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=ps(e),o!==null){for(t.flags|=128,fl(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(Oe,Oe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Se()>Mr&&(t.flags|=128,r=!0,fl(a,!1),t.lanes=4194304)}else{if(!r)if(e=ps(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!$e)return lt(t),null}else 2*Se()-a.renderingStartTime>Mr&&n!==1073741824&&(t.flags|=128,r=!0,fl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Se(),t.sibling=null,n=Oe.current,Le(Oe,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return vo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(wt&1073741824)!==0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(u(156,t.tag))}function Vc(e,t){switch(Ca(t),t.tag){case 1:return dt(t.type)&&ns(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return br(),ze(ut),ze(nt),Oa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return $a(t),null;case 13:if(ze(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Oe),null;case 4:return br(),null;case 10:return La(t.type._context),null;case 22:case 23:return vo(),null;case 24:return null;default:return null}}var js=!1,st=!1,Hc=typeof WeakSet=="function"?WeakSet:Set,J=null;function Cr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function so(e,t,n){try{n()}catch(r){Be(e,t,r)}}var _u=!1;function Qc(e,t){if(ga=Ul,e=ui(),ua(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,i=-1,c=-1,v=0,R=0,A=e,T=null;t:for(;;){for(var G;A!==n||l!==0&&A.nodeType!==3||(i=o+l),A!==a||r!==0&&A.nodeType!==3||(c=o+r),A.nodeType===3&&(o+=A.nodeValue.length),(G=A.firstChild)!==null;)T=A,A=G;for(;;){if(A===e)break t;if(T===n&&++v===l&&(i=o),T===a&&++R===r&&(c=o),(G=A.nextSibling)!==null)break;A=T,T=A.parentNode}A=G}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(va={focusedElem:e,selectionRange:n},Ul=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var ne=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var re=ne.memoizedProps,Ue=ne.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?re:$t(t.type,re),Ue);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(F){Be(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return ne=_u,_u=!1,ne}function pl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&so(t,n,a)}l=l.next}while(l!==r)}}function Ns(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lu(e){var t=e.alternate;t!==null&&(e.alternate=null,Lu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[nl],delete t[ja],delete t[Mc],delete t[Dc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tu(e){return e.tag===5||e.tag===3||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=es));else if(r!==4&&(e=e.child,e!==null))for(oo(e,t,n),e=e.sibling;e!==null;)oo(e,t,n),e=e.sibling}function io(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(io(e,t,n),e=e.sibling;e!==null;)io(e,t,n),e=e.sibling}var qe=null,At=!1;function En(e,t,n){for(n=n.child;n!==null;)zu(e,t,n),n=n.sibling}function zu(e,t,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Rl,n)}catch{}switch(n.tag){case 5:st||Cr(n,t);case 6:var r=qe,l=At;qe=null,En(e,t,n),qe=r,At=l,qe!==null&&(At?(e=qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(At?(e=qe,n=n.stateNode,e.nodeType===8?wa(e.parentNode,n):e.nodeType===1&&wa(e,n),Hr(e)):wa(qe,n.stateNode));break;case 4:r=qe,l=At,qe=n.stateNode.containerInfo,At=!0,En(e,t,n),qe=r,At=l;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,o=a.destroy;a=a.tag,o!==void 0&&((a&2)!==0||(a&4)!==0)&&so(n,t,o),l=l.next}while(l!==r)}En(e,t,n);break;case 1:if(!st&&(Cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Be(n,t,i)}En(e,t,n);break;case 21:En(e,t,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,En(e,t,n),st=r):En(e,t,n);break;default:En(e,t,n)}}function Ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hc),t.forEach(function(r){var l=tf.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:qe=i.stateNode,At=!1;break e;case 3:qe=i.stateNode.containerInfo,At=!0;break e;case 4:qe=i.stateNode.containerInfo,At=!0;break e}i=i.return}if(qe===null)throw Error(u(160));zu(a,o,l),qe=null,At=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(v){Be(l,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$u(t,e),t=t.sibling}function $u(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Kt(e),r&4){try{pl(3,e,e.return),Ns(3,e)}catch(re){Be(e,e.return,re)}try{pl(5,e,e.return)}catch(re){Be(e,e.return,re)}}break;case 1:Ot(t,e),Kt(e),r&512&&n!==null&&Cr(n,n.return);break;case 5:if(Ot(t,e),Kt(e),r&512&&n!==null&&Cr(n,n.return),e.flags&32){var l=e.stateNode;try{cn(l,"")}catch(re){Be(e,e.return,re)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&Lr(l,a),On(i,o);var v=On(i,a);for(o=0;o<c.length;o+=2){var R=c[o],A=c[o+1];R==="style"?El(l,A):R==="dangerouslySetInnerHTML"?Cl(l,A):R==="children"?cn(l,A):ee(l,R,A,v)}switch(i){case"input":qt(l,a);break;case"textarea":Sl(l,a);break;case"select":var T=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var G=a.value;G!=null?on(l,!!a.multiple,G,!1):T!==!!a.multiple&&(a.defaultValue!=null?on(l,!!a.multiple,a.defaultValue,!0):on(l,!!a.multiple,a.multiple?[]:"",!1))}l[nl]=a}catch(re){Be(e,e.return,re)}}break;case 6:if(Ot(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(u(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(re){Be(e,e.return,re)}}break;case 3:if(Ot(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(re){Be(e,e.return,re)}break;case 4:Ot(t,e),Kt(e);break;case 13:Ot(t,e),Kt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(fo=Se())),r&4&&Ru(e);break;case 22:if(R=n!==null&&n.memoizedState!==null,e.mode&1?(st=(v=st)||R,Ot(t,e),st=v):Ot(t,e),Kt(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!R&&(e.mode&1)!==0)for(J=e,R=e.child;R!==null;){for(A=J=R;J!==null;){switch(T=J,G=T.child,T.tag){case 0:case 11:case 14:case 15:pl(4,T,T.return);break;case 1:Cr(T,T.return);var ne=T.stateNode;if(typeof ne.componentWillUnmount=="function"){r=T,n=T.return;try{t=r,ne.props=t.memoizedProps,ne.state=t.memoizedState,ne.componentWillUnmount()}catch(re){Be(r,n,re)}}break;case 5:Cr(T,T.return);break;case 22:if(T.memoizedState!==null){Fu(A);continue}}G!==null?(G.return=T,J=G):Fu(A)}R=R.sibling}e:for(R=null,A=e;;){if(A.tag===5){if(R===null){R=A;try{l=A.stateNode,v?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=A.stateNode,c=A.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=sr("display",o))}catch(re){Be(e,e.return,re)}}}else if(A.tag===6){if(R===null)try{A.stateNode.nodeValue=v?"":A.memoizedProps}catch(re){Be(e,e.return,re)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;R===A&&(R=null),A=A.return}R===A&&(R=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Ot(t,e),Kt(e),r&4&&Ru(e);break;case 21:break;default:Ot(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tu(n)){var r=n;break e}n=n.return}throw Error(u(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(cn(l,""),r.flags&=-33);var a=Pu(e);io(e,a,l);break;case 3:case 4:var o=r.stateNode.containerInfo,i=Pu(e);oo(e,i,o);break;default:throw Error(u(161))}}catch(c){Be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yc(e,t,n){J=e,Au(e)}function Au(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var l=J,a=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||js;if(!o){var i=l.alternate,c=i!==null&&i.memoizedState!==null||st;i=js;var v=st;if(js=o,(st=c)&&!v)for(J=l;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?Bu(l):c!==null?(c.return=o,J=c):Bu(l);for(;a!==null;)J=a,Au(a),a=a.sibling;J=l,js=i,st=v}Ou(e)}else(l.subtreeFlags&8772)!==0&&a!==null?(a.return=l,J=a):Ou(e)}}function Ou(e){for(;J!==null;){var t=J;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:st||Ns(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!st)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:$t(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Fi(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fi(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var R=v.memoizedState;if(R!==null){var A=R.dehydrated;A!==null&&Hr(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163))}st||t.flags&512&&ao(t)}catch(T){Be(t,t.return,T)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function Fu(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function Bu(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ns(4,t)}catch(c){Be(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){Be(t,l,c)}}var a=t.return;try{ao(t)}catch(c){Be(t,a,c)}break;case 5:var o=t.return;try{ao(t)}catch(c){Be(t,o,c)}}}catch(c){Be(t,t.return,c)}if(t===e){J=null;break}var i=t.sibling;if(i!==null){i.return=t.return,J=i;break}J=t.return}}var Kc=Math.ceil,bs=de.ReactCurrentDispatcher,uo=de.ReactCurrentOwner,Et=de.ReactCurrentBatchConfig,Ce=0,Ye=null,We=null,Ze=0,wt=0,Er=jn(0),He=0,ml=null,Gn=0,Ss=0,co=0,hl=null,ft=null,fo=0,Mr=1/0,an=null,Cs=!1,po=null,Mn=null,Es=!1,Dn=null,Ms=0,xl=0,mo=null,Ds=-1,Is=0;function it(){return(Ce&6)!==0?Se():Ds!==-1?Ds:Ds=Se()}function In(e){return(e.mode&1)===0?1:(Ce&2)!==0&&Ze!==0?Ze&-Ze:_c.transition!==null?(Is===0&&(Is=Po()),Is):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Wo(e.type)),e)}function Ft(e,t,n,r){if(50<xl)throw xl=0,mo=null,Error(u(185));Fr(e,n,r),((Ce&2)===0||e!==Ye)&&(e===Ye&&((Ce&2)===0&&(Ss|=n),He===4&&_n(e,Ze)),pt(e,r),n===1&&Ce===0&&(t.mode&1)===0&&(Mr=Se()+500,ls&&bn()))}function pt(e,t){var n=e.callbackNode;_d(e,t);var r=Ol(e,e===Ye?Ze:0);if(r===0)n!==null&&tt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&tt(n),t===1)e.tag===0?Ic(Wu.bind(null,e)):Mi(Wu.bind(null,e)),Cc(function(){(Ce&6)===0&&bn()}),n=null;else{switch(zo(r)){case 1:n=Fn;break;case 4:n=Ar;break;case 16:n=Bn;break;case 536870912:n=Qs;break;default:n=Bn}n=qu(n,Uu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Uu(e,t){if(Ds=-1,Is=0,(Ce&6)!==0)throw Error(u(327));var n=e.callbackNode;if(Dr()&&e.callbackNode!==n)return null;var r=Ol(e,e===Ye?Ze:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=_s(e,r);else{t=r;var l=Ce;Ce|=2;var a=Hu();(Ye!==e||Ze!==t)&&(an=null,Mr=Se()+500,qn(e,t));do try{qc();break}catch(i){Vu(e,i)}while(!0);_a(),bs.current=a,Ce=l,We!==null?t=0:(Ye=null,Ze=0,t=He)}if(t!==0){if(t===2&&(l=Ys(e),l!==0&&(r=l,t=ho(e,l))),t===1)throw n=ml,qn(e,0),_n(e,r),pt(e,Se()),n;if(t===6)_n(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Gc(l)&&(t=_s(e,r),t===2&&(a=Ys(e),a!==0&&(r=a,t=ho(e,a))),t===1))throw n=ml,qn(e,0),_n(e,r),pt(e,Se()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(u(345));case 2:Zn(e,ft,an);break;case 3:if(_n(e,r),(r&130023424)===r&&(t=fo+500-Se(),10<t)){if(Ol(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ka(Zn.bind(null,e,ft,an),t);break}Zn(e,ft,an);break;case 4:if(_n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-Pt(r);a=1<<o,o=t[o],o>l&&(l=o),r&=~a}if(r=l,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kc(r/1960))-r,10<r){e.timeoutHandle=ka(Zn.bind(null,e,ft,an),r);break}Zn(e,ft,an);break;case 5:Zn(e,ft,an);break;default:throw Error(u(329))}}}return pt(e,Se()),e.callbackNode===n?Uu.bind(null,e):null}function ho(e,t){var n=hl;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=_s(e,t),e!==2&&(t=ft,ft=n,t!==null&&xo(t)),e}function xo(e){ft===null?ft=e:ft.push.apply(ft,e)}function Gc(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!zt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~co,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function Wu(e){if((Ce&6)!==0)throw Error(u(327));Dr();var t=Ol(e,0);if((t&1)===0)return pt(e,Se()),null;var n=_s(e,t);if(e.tag!==0&&n===2){var r=Ys(e);r!==0&&(t=r,n=ho(e,r))}if(n===1)throw n=ml,qn(e,0),_n(e,t),pt(e,Se()),n;if(n===6)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,ft,an),pt(e,Se()),null}function go(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(Mr=Se()+500,ls&&bn())}}function Xn(e){Dn!==null&&Dn.tag===0&&(Ce&6)===0&&Dr();var t=Ce;Ce|=1;var n=Et.transition,r=Me;try{if(Et.transition=null,Me=1,e)return e()}finally{Me=r,Et.transition=n,Ce=t,(Ce&6)===0&&bn()}}function vo(){wt=Er.current,ze(Er)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sc(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Ca(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ns();break;case 3:br(),ze(ut),ze(nt),Oa();break;case 5:$a(r);break;case 4:br();break;case 13:ze(Oe);break;case 19:ze(Oe);break;case 10:La(r.type._context);break;case 22:case 23:vo()}n=n.return}if(Ye=e,We=e=Ln(e.current,null),Ze=wt=t,He=0,ml=null,co=Ss=Gn=0,ft=hl=null,Qn!==null){for(t=0;t<Qn.length;t++)if(n=Qn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=l,r.next=o}n.pending=r}Qn=null}return e}function Vu(e,t){do{var n=We;try{if(_a(),ms.current=vs,hs){for(var r=Fe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}hs=!1}if(Kn=0,Qe=Ve=Fe=null,il=!1,ul=0,uo.current=null,n===null||n.return===null){He=1,ml=t,We=null;break}e:{var a=e,o=n.return,i=n,c=t;if(t=Ze,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var v=c,R=i,A=R.tag;if((R.mode&1)===0&&(A===0||A===11||A===15)){var T=R.alternate;T?(R.updateQueue=T.updateQueue,R.memoizedState=T.memoizedState,R.lanes=T.lanes):(R.updateQueue=null,R.memoizedState=null)}var G=hu(o);if(G!==null){G.flags&=-257,xu(G,o,i,a,t),G.mode&1&&mu(a,v,t),t=G,c=v;var ne=t.updateQueue;if(ne===null){var re=new Set;re.add(c),t.updateQueue=re}else ne.add(c);break e}else{if((t&1)===0){mu(a,v,t),yo();break e}c=Error(u(426))}}else if($e&&i.mode&1){var Ue=hu(o);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),xu(Ue,o,i,a,t),Da(Sr(c,i));break e}}a=c=Sr(c,i),He!==4&&(He=2),hl===null?hl=[a]:hl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=fu(a,c,t);Oi(a,h);break e;case 1:i=c;var p=a.type,x=a.stateNode;if((a.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Mn===null||!Mn.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var F=pu(a,i,t);Oi(a,F);break e}}a=a.return}while(a!==null)}Yu(n)}catch(le){t=le,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function Hu(){var e=bs.current;return bs.current=vs,e===null?vs:e}function yo(){(He===0||He===3||He===2)&&(He=4),Ye===null||(Gn&268435455)===0&&(Ss&268435455)===0||_n(Ye,Ze)}function _s(e,t){var n=Ce;Ce|=2;var r=Hu();(Ye!==e||Ze!==t)&&(an=null,qn(e,t));do try{Xc();break}catch(l){Vu(e,l)}while(!0);if(_a(),Ce=n,bs.current=r,We!==null)throw Error(u(261));return Ye=null,Ze=0,He}function Xc(){for(;We!==null;)Qu(We)}function qc(){for(;We!==null&&!Tt();)Qu(We)}function Qu(e){var t=Xu(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?Yu(e):We=t,uo.current=null}function Yu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Wc(n,t,wt),n!==null){We=n;return}}else{if(n=Vc(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,We=null;return}}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);He===0&&(He=5)}function Zn(e,t,n){var r=Me,l=Et.transition;try{Et.transition=null,Me=1,Zc(e,t,n,r)}finally{Et.transition=l,Me=r}return null}function Zc(e,t,n,r){do Dr();while(Dn!==null);if((Ce&6)!==0)throw Error(u(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Ld(e,a),e===Ye&&(We=Ye=null,Ze=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Es||(Es=!0,qu(Bn,function(){return Dr(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=Et.transition,Et.transition=null;var o=Me;Me=1;var i=Ce;Ce|=4,uo.current=null,Qc(e,n),$u(n,e),vc(va),Ul=!!ga,va=ga=null,e.current=n,Yc(n),gt(),Ce=i,Me=o,Et.transition=a}else e.current=n;if(Es&&(Es=!1,Dn=e,Ms=l),a=e.pendingLanes,a===0&&(Mn=null),Cd(n.stateNode),pt(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Cs)throw Cs=!1,e=po,po=null,e;return(Ms&1)!==0&&e.tag!==0&&Dr(),a=e.pendingLanes,(a&1)!==0?e===mo?xl++:(xl=0,mo=e):xl=0,bn(),null}function Dr(){if(Dn!==null){var e=zo(Ms),t=Et.transition,n=Me;try{if(Et.transition=null,Me=16>e?16:e,Dn===null)var r=!1;else{if(e=Dn,Dn=null,Ms=0,(Ce&6)!==0)throw Error(u(331));var l=Ce;for(Ce|=4,J=e.current;J!==null;){var a=J,o=a.child;if((J.flags&16)!==0){var i=a.deletions;if(i!==null){for(var c=0;c<i.length;c++){var v=i[c];for(J=v;J!==null;){var R=J;switch(R.tag){case 0:case 11:case 15:pl(8,R,a)}var A=R.child;if(A!==null)A.return=R,J=A;else for(;J!==null;){R=J;var T=R.sibling,G=R.return;if(Lu(R),R===v){J=null;break}if(T!==null){T.return=G,J=T;break}J=G}}}var ne=a.alternate;if(ne!==null){var re=ne.child;if(re!==null){ne.child=null;do{var Ue=re.sibling;re.sibling=null,re=Ue}while(re!==null)}}J=a}}if((a.subtreeFlags&2064)!==0&&o!==null)o.return=a,J=o;else e:for(;J!==null;){if(a=J,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:pl(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,J=h;break e}J=a.return}}var p=e.current;for(J=p;J!==null;){o=J;var x=o.child;if((o.subtreeFlags&2064)!==0&&x!==null)x.return=o,J=x;else e:for(o=p;J!==null;){if(i=J,(i.flags&2048)!==0)try{switch(i.tag){case 0:case 11:case 15:Ns(9,i)}}catch(le){Be(i,i.return,le)}if(i===o){J=null;break e}var F=i.sibling;if(F!==null){F.return=i.return,J=F;break e}J=i.return}}if(Ce=l,bn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Rl,e)}catch{}r=!0}return r}finally{Me=n,Et.transition=t}}return!1}function Ku(e,t,n){t=Sr(n,t),t=fu(e,t,1),e=Cn(e,t,1),t=it(),e!==null&&(Fr(e,1,t),pt(e,t))}function Be(e,t,n){if(e.tag===3)Ku(e,e,n);else for(;t!==null;){if(t.tag===3){Ku(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){e=Sr(n,e),e=pu(t,e,1),t=Cn(t,e,1),e=it(),t!==null&&(Fr(t,1,e),pt(t,e));break}}t=t.return}}function Jc(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(Ze&n)===n&&(He===4||He===3&&(Ze&130023424)===Ze&&500>Se()-fo?qn(e,0):co|=n),pt(e,t)}function Gu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Al,Al<<=1,(Al&130023424)===0&&(Al=4194304)));var n=it();e=rn(e,t),e!==null&&(Fr(e,t,n),pt(e,n))}function ef(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gu(e,n)}function tf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(u(314))}r!==null&&r.delete(t),Gu(e,n)}var Xu;Xu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)ct=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return ct=!1,Uc(e,t,n);ct=(e.flags&131072)!==0}else ct=!1,$e&&(t.flags&1048576)!==0&&Di(t,as,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ws(e,t),e=t.pendingProps;var l=gr(t,nt.current);Nr(t,n),l=Ua(null,t,r,e,l,n);var a=Wa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(a=!0,rs(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,za(t),l.updater=ys,t.stateNode=l,l._reactInternals=t,Ga(t,r,e,n),t=Ja(null,t,r,!0,a,n)):(t.tag=0,$e&&a&&Sa(t),ot(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ws(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=rf(r),e=$t(r,e),l){case 0:t=Za(null,t,r,e,n);break e;case 1:t=ju(null,t,r,e,n);break e;case 11:t=gu(null,t,r,e,n);break e;case 14:t=vu(null,t,r,$t(r.type,e),n);break e}throw Error(u(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:$t(r,l),Za(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:$t(r,l),ju(e,t,r,l,n);case 3:e:{if(Nu(t),e===null)throw Error(u(387));r=t.pendingProps,a=t.memoizedState,l=a.element,Ai(e,t),fs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Sr(Error(u(423)),t),t=bu(e,t,r,n,l);break e}else if(r!==l){l=Sr(Error(u(424)),t),t=bu(e,t,r,n,l);break e}else for(kt=wn(t.stateNode.containerInfo.firstChild),yt=t,$e=!0,Rt=null,n=Ri(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(kr(),r===l){t=sn(e,t,n);break e}ot(e,t,r,n)}t=t.child}return t;case 5:return Bi(t),e===null&&Ma(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,o=l.children,ya(r,l)?o=null:a!==null&&ya(r,a)&&(t.flags|=32),wu(e,t),ot(e,t,o,n),t.child;case 6:return e===null&&Ma(t),null;case 13:return Su(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wr(t,null,r,n):ot(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:$t(r,l),gu(e,t,r,l,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,o=l.value,Le(us,r._currentValue),r._currentValue=o,a!==null)if(zt(a.value,o)){if(a.children===l.children&&!ut.current){t=sn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){o=a.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ln(-1,n&-n),c.tag=2;var v=a.updateQueue;if(v!==null){v=v.shared;var R=v.pending;R===null?c.next=c:(c.next=R.next,R.next=c),v.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Ta(a.return,n,t),i.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(u(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Ta(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ot(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Nr(t,n),l=St(l),r=r(l),t.flags|=1,ot(e,t,r,n),t.child;case 14:return r=t.type,l=$t(r,t.pendingProps),l=$t(r.type,l),vu(e,t,r,l,n);case 15:return yu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:$t(r,l),ws(e,t),t.tag=1,dt(r)?(e=!0,rs(t)):e=!1,Nr(t,n),du(t,r,l),Ga(t,r,l,n),Ja(null,t,r,!0,e,n);case 19:return Eu(e,t,n);case 22:return ku(e,t,n)}throw Error(u(156,t.tag))};function qu(e,t){return Zt(e,t)}function nf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new nf(e,t,n,r)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rf(e){if(typeof e=="function")return ko(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$)return 11;if(e===ye)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ls(e,t,n,r,l,a){var o=2;if(r=e,typeof e=="function")ko(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case te:return Jn(n.children,l,a,t);case j:o=8,l|=8;break;case U:return e=Mt(12,n,t,l|2),e.elementType=U,e.lanes=a,e;case Y:return e=Mt(13,n,t,l),e.elementType=Y,e.lanes=a,e;case X:return e=Mt(19,n,t,l),e.elementType=X,e.lanes=a,e;case K:return Ts(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:o=10;break e;case q:o=9;break e;case $:o=11;break e;case ye:o=14;break e;case oe:o=16,r=null;break e}throw Error(u(130,e==null?e:typeof e,""))}return t=Mt(o,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function Jn(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function Ts(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=K,e.lanes=n,e.stateNode={isHidden:!1},e}function wo(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function jo(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lf(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ks(0),this.expirationTimes=Ks(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function No(e,t,n,r,l,a,o,i,c){return e=new lf(e,t,n,i,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Mt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},za(a),e}function sf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zu(e){if(!e)return Nn;e=e._reactInternals;e:{if(ge(e)!==e||e.tag!==1)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(u(171))}if(e.tag===1){var n=e.type;if(dt(n))return Ci(e,n,t)}return t}function Ju(e,t,n,r,l,a,o,i,c){return e=No(n,r,!0,e,l,a,o,i,c),e.context=Zu(null),n=e.current,r=it(),l=In(n),a=ln(r,l),a.callback=t??null,Cn(n,a,l),e.current.lanes=l,Fr(e,l,r),pt(e,r),e}function Ps(e,t,n,r){var l=t.current,a=it(),o=In(l);return n=Zu(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cn(l,t,o),e!==null&&(Ft(e,l,o,a),cs(e,l,o)),o}function zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bo(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function af(){return null}var td=typeof reportError=="function"?reportError:function(e){console.error(e)};function So(e){this._internalRoot=e}Rs.prototype.render=So.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));Ps(e,t,null,null)},Rs.prototype.unmount=So.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){Ps(null,e,null,null)}),t[Jt]=null}};function Rs(e){this._internalRoot=e}Rs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ao();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vn.length&&t!==0&&t<vn[n].priority;n++);vn.splice(n,0,e),n===0&&Bo(e)}};function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nd(){}function of(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var v=zs(o);a.call(v)}}var o=Ju(t,r,e,0,null,!1,!1,"",nd);return e._reactRootContainer=o,e[Jt]=o.current,el(e.nodeType===8?e.parentNode:e),Xn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var v=zs(c);i.call(v)}}var c=No(e,0,!1,null,null,!1,!1,"",nd);return e._reactRootContainer=c,e[Jt]=c.current,el(e.nodeType===8?e.parentNode:e),Xn(function(){Ps(t,c,n,r)}),c}function As(e,t,n,r,l){var a=n._reactRootContainer;if(a){var o=a;if(typeof l=="function"){var i=l;l=function(){var c=zs(o);i.call(c)}}Ps(t,o,e,l)}else o=of(n,t,e,l,r);return zs(o)}Ro=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Or(t.pendingLanes);n!==0&&(Gs(t,n|1),pt(t,Se()),(Ce&6)===0&&(Mr=Se()+500,bn()))}break;case 13:Xn(function(){var r=rn(e,1);if(r!==null){var l=it();Ft(r,e,1,l)}}),bo(e,1)}},Xs=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=it();Ft(t,e,134217728,n)}bo(e,134217728)}},$o=function(e){if(e.tag===13){var t=In(e),n=rn(e,t);if(n!==null){var r=it();Ft(n,e,t,r)}bo(e,t)}},Ao=function(){return Me},Oo=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}},Rr=function(e,t,n){switch(t){case"input":if(qt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ts(r);if(!l)throw Error(u(90));Ir(r),qt(r,l)}}}break;case"textarea":Sl(e,n);break;case"select":t=n.value,t!=null&&on(e,!!n.multiple,t,!1)}},_l=go,Ll=Xn;var uf={usingClientEntryPoint:!1,Events:[rl,hr,ts,Dl,Il,go]},gl={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},df={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=at(e),e===null?null:e.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||af,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Rl=Os.inject(df),Vt=Os}catch{}}return mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uf,mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Co(t))throw Error(u(200));return sf(e,t,null,n)},mt.createRoot=function(e,t){if(!Co(e))throw Error(u(299));var n=!1,r="",l=td;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=No(e,1,!1,null,null,n,!1,r,l),e[Jt]=t.current,el(e.nodeType===8?e.parentNode:e),new So(t)},mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=at(t),e=e===null?null:e.stateNode,e},mt.flushSync=function(e){return Xn(e)},mt.hydrate=function(e,t,n){if(!$s(t))throw Error(u(200));return As(null,e,t,!0,n)},mt.hydrateRoot=function(e,t,n){if(!Co(e))throw Error(u(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",o=td;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ju(t,null,e,1,n??null,l,!1,a,o),e[Jt]=t.current,el(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Rs(t)},mt.render=function(e,t,n){if(!$s(t))throw Error(u(200));return As(null,e,t,!1,n)},mt.unmountComponentAtNode=function(e){if(!$s(e))throw Error(u(40));return e._reactRootContainer?(Xn(function(){As(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1},mt.unstable_batchedUpdates=go,mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$s(n))throw Error(u(200));if(e==null||e._reactInternals===void 0)throw Error(u(38));return As(e,t,n,!1,r)},mt.version="18.3.1-next-f1338f8080-20240426",mt}var dd;function vf(){if(dd)return Do.exports;dd=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),Do.exports=gf(),Do.exports}var cd;function yf(){if(cd)return Fs;cd=1;var d=vf();return Fs.createRoot=d.createRoot,Fs.hydrateRoot=d.hydrateRoot,Fs}var kf=yf();const wf=kd(kf),jf=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wd=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Bs=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],kl=["January","February","March","April","May","June","July","August","September","October","November","December"],Xe=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],Ut="12:00",jd=8,Gt=4,Nf=475,Us=["#FFB3BA","#FFDFBA","#FFFFBA","#BAFFC9","#BAE1FF","#CBAACB","#E2CFC4","#BDBDBD"],Je={calendar:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),users:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 11a4 4 0 110-5.292M15 11a4 4 0 010 5.292"})}),billing:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),enrollment:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),teachers:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v11.494m-5.45-6.864l5.45 3.424 5.45-3.424M1.5 10.454l10.5 6.575 10.5-6.575M21 21l-9-5.25L3 21"})}),check:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),paid:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-status-green mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),unpaid:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-status-yellow mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 102 0V6zm-1 9a1 1 0 110-2 1 1 0 010 2z",clipRule:"evenodd"})}),edit:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),s.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),trash:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),settings:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),install:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})},Dt=d=>{const m=d.getFullYear(),u=(d.getMonth()+1).toString().padStart(2,"0"),b=d.getDate().toString().padStart(2,"0");return`${m}-${u}-${b}`},Nd="admin",me=d=>{const[m,u]=d.split(":").map(Number);return m*60+u},Wt=d=>{const m=Math.floor(d/60),u=d%60;return`${String(m).padStart(2,"0")}:${String(u).padStart(2,"0")}`},Ie=(d,m)=>Wt(me(d)+m),tr=d=>{const m=me(d),u=Math.round(m/15)*15;return Wt(u)},fd=d=>{const m=me(d),u=Math.floor(m/15)*15;return Wt(u)},bf=(d,m,u,b)=>{const k=me(d),w=me(m),N=me(u),g=me(b);return k<g&&w>N},Sf=d=>{const m=[...d];for(let u=m.length-1;u>0;u--){const b=Math.floor(Math.random()*(u+1));[m[u],m[b]]=[m[b],m[u]]}return m},Cf=(d,m)=>{const u=d.map((y,O)=>({...y,instructorId:m[O%m.length].id}));let b=[];for(const y of jf)for(const O of Xe)O!==Ut&&b.push({day:y,time:O});b=Sf(b);const k=[],w={},N={},g={};for(const y of u){let O=!1;for(const S of b){const L=y.instructorId,V=`${S.day}-${S.time}`,se=`${L}-${V}`,B=N[V]||0,I=`${y.id}-${S.day}`;if(!w[se]&&B<jd&&!g[I]){w[se]=!0,N[V]=B+1,g[I]=!0;const D=B+1,fe=new Date;for(let ve=0;ve<12;ve++)for(let ee=0;ee<7;ee++){const de=new Date(fe.getFullYear(),fe.getMonth(),fe.getDate()+ve*7+ee);if(wd[de.getDay()]===S.day){const P=Dt(de);k.push({id:`lesson-${y.id}-${P}-${S.time}`,studentId:y.id,instructorId:L,roomId:D,date:P,time:S.time,endTime:Ie(S.time,60),notes:"",status:"scheduled"});break}}O=!0;break}}O||console.warn(`Could not find a schedule slot for student ${y.name}`)}return{lessons:k,students:u}},bd=E.createContext(void 0),Ef=({children:d})=>{const[m,u]=E.useState("dashboard"),[b,k]=E.useState(!0),[w,N]=E.useState(null),[g,y]=E.useState([]),[O,S]=E.useState([]),[L,V]=E.useState([]),[se,B]=E.useState([]),[I,D]=E.useState(!1),[fe,ve]=E.useState(null),[ee,de]=E.useState(!1),[P,Q]=E.useState(new Date),[te,j]=E.useState("month"),[U,ce]=E.useState(!1),[q,$]=E.useState(null),[Y,X]=E.useState(!1),[ye,oe]=E.useState(null),[K,_]=E.useState(!1),[H,z]=E.useState(!1),[f,M]=E.useState(null),[xe,ke]=E.useState(localStorage.getItem("theme")||"light"),[we,Ne]=E.useState(()=>{const C=localStorage.getItem("fontSize");return C==="sm"||C==="base"||C==="lg"?C:"base"}),[De,be]=E.useState(!1),[_e,et]=E.useState(null),[Xt,Ir]=E.useState(null);E.useEffect(()=>{const C=Z=>{Z.preventDefault(),Ir(Z)};return window.addEventListener("beforeinstallprompt",C),()=>window.removeEventListener("beforeinstallprompt",C)},[]);const rr=()=>{Xt&&(Xt.prompt(),Xt.userChoice.then(()=>Ir(null)))};E.useEffect(()=>{xe==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",xe)},[xe]),E.useEffect(()=>{const C=document.documentElement;C.style.fontSize=we==="sm"?"87.5%":we==="lg"?"112.5%":"100%",localStorage.setItem("fontSize",we)},[we]);const _r=()=>ke(C=>C==="light"?"dark":"light"),jl=C=>Ne(C),Lr=E.useCallback(()=>{const C=g.reduce((Z,W)=>{const pe=parseInt(W.studentIdNumber,10);return!isNaN(pe)&&pe>Z?pe:Z},0);return(C>0?C+1:100001).toString()},[g]),qt=E.useCallback(async()=>{k(!0),N(null);try{const C=await fetch("/initial-data.json");if(!C.ok)throw new Error(`Failed to load data: ${C.statusText}`);const{students:Z,instructors:W}=await C.json(),pe=Z.map((ge,Te)=>({...ge,id:`student-${Te+1}`,sessionsAttended:0,sessionsBilled:0,status:"active"})),ae=W.map((ge,Te)=>({...ge,id:`inst-${Te+1}`,color:Us[Te%Us.length],status:"active"})),{lessons:Ae,students:Re}=Cf(pe,ae);y(Re),S(ae),V(Ae),B([])}catch(C){console.error(C),N("Failed to initialize application data. Please try refreshing the page.")}finally{k(!1)}},[]);E.useEffect(()=>{qt()},[qt]),E.useEffect(()=>{const C=[];g.forEach(Z=>{const W=se.filter(Ae=>Ae.studentId===Z.id).reduce((Ae,Re)=>Math.max(Ae,Re.sessionsCovered),0);let pe=Z.sessionsAttended-W,ae=W;for(;pe>=Gt;)ae+=Gt,C.push({id:`bill-${Date.now()}-${Z.id}-${ae}`,studentId:Z.id,studentName:Z.name,amount:Nf*Gt,status:"unpaid",sessionsCovered:ae,dateIssued:new Date().toISOString()}),pe-=Gt}),C.length>0&&B(Z=>[...Z,...C])},[g,se]);const Nl=E.useCallback(C=>{Q(Z=>{const W=new Date(Z);return te==="year"?W.setFullYear(W.getFullYear()+(C==="next"?1:-1)):te==="month"?W.setMonth(W.getMonth()+(C==="next"?1:-1)):te==="week"?W.setDate(W.getDate()+(C==="next"?7:-7)):W.setDate(W.getDate()+(C==="next"?1:-1)),W})},[te]),Tr=E.useCallback(C=>{Q(C),j("month")},[]),Rn=E.useCallback(C=>{y(Z=>{const W=[...Z],pe=W.findIndex(ge=>ge.id===C);if(pe===-1)return Z;const ae={...W[pe]},Ae=Date.now(),Re=1440*60*1e3;return ae.lastAttendanceMarkedAt&&Ae-ae.lastAttendanceMarkedAt<Re?Z:(ae.sessionsAttended+=1,ae.lastAttendanceMarkedAt=Ae,W[pe]=ae,W)})},[]),on=E.useCallback(C=>{B(Z=>{const W=Z.map(ge=>ge.id===C?{...ge,status:"paid"}:ge),pe=W.find(ge=>ge.id===C);if(!pe)return Z;const ae=pe.studentId,Re=W.filter(ge=>ge.studentId===ae&&ge.status==="paid").length*Gt;return y(ge=>ge.map(Te=>Te.id===ae?{...Te,sessionsBilled:Re}:Te)),W})},[]),un=E.useMemo(()=>O.filter(C=>C.status==="active"),[O]),bl=E.useCallback(C=>{ve(C),de(!1),D(!0)},[]),Sl=E.useCallback((C,Z)=>{const W=g.find(ae=>ae.status==="active"),pe={id:`lesson-${Date.now()}`,studentId:(W==null?void 0:W.id)||"",instructorId:un.length>0?un[0].id:"",roomId:1,date:Dt(C),time:Z||Xe[0],endTime:Ie(Z||Xe[0],60),notes:"",status:"scheduled"};ve(pe),de(!0),D(!0)},[g,un]),dn=E.useCallback(()=>{ve(null),D(!1),de(!1)},[]),Pr=E.useCallback(C=>{V(Z=>Z.map(W=>W.id===C?{...W,status:"deleted"}:W)),dn()},[dn]),It=E.useCallback((C,Z)=>{for(const W of L)if(!(W.id===Z||W.status==="deleted")&&W.date===C.date){const pe=W.time,ae=W.endTime||Ie(W.time,60),Ae=C.time,Re=C.endTime||Ie(C.time,60);if(bf(pe,ae,Ae,Re)){if(W.instructorId===C.instructorId){const ge=O.find(Te=>Te.id===W.instructorId);return`Instructor ${(ge==null?void 0:ge.name)||""} is already scheduled during this time.`}if(W.roomId===C.roomId)return`Room ${W.roomId} is already booked during this time.`;if(W.studentId===C.studentId){const ge=g.find(Te=>Te.id===W.studentId);return`Student ${(ge==null?void 0:ge.name)||""} already has a lesson during this time.`}}}return null},[L,O,g]),lr=E.useCallback(C=>{if(ee){const{repeatWeekly:Z,repeatWeeks:W,...pe}=C,ae=g.find(Te=>Te.id===pe.studentId);if(ae&&ae.status==="inactive"){alert("This student is not currently enrolled. Please activate the student to schedule new lessons.");return}const Ae={...pe,status:"scheduled"},Re=[Ae];if(!!Z&&(W??0)>0){const Te=Math.min(52,Math.max(1,W||1)),Lt=new Date(`${pe.date}T00:00:00`),xt=me(pe.endTime||Ie(pe.time,60))-me(pe.time);for(let at=1;at<=Te;at++){const jt=new Date(Lt);jt.setDate(jt.getDate()+at*7);const Zt=jt.getFullYear(),tt=String(jt.getMonth()+1).padStart(2,"0"),Tt=String(jt.getDate()).padStart(2,"0"),gt=`${Zt}-${tt}-${Tt}`,Se={...Ae,id:`lesson-${Date.now()}-${at}`,date:gt,time:pe.time,endTime:Ie(pe.time,xt)},or=me(Ut),Fn=me(Se.time),Ar=me(Se.endTime||Ie(Se.time,60));if(Fn<or&&or<Ar)continue;const{id:Bn,...zl}=Se;It(zl,void 0)||Re.push(Se)}}V(Te=>[...Te,...Re])}else{const{repeatWeekly:Z,repeatWeeks:W,...pe}=C,ae={...pe,status:"scheduled"};V(Re=>Re.map(ge=>ge.id===ae.id?ae:ge));const Ae=L.find(Re=>Re.id===ae.id);if(Ae&&Ae.instructorId!==ae.instructorId&&y(Re=>Re.map(ge=>ge.id===ae.studentId?{...ge,instructorId:ae.instructorId}:ge)),Z&&(W??0)>0){const Re=Math.min(52,Math.max(1,W||1)),ge=new Date(`${ae.date}T00:00:00`),Te=me(ae.endTime||Ie(ae.time,60))-me(ae.time),Lt=[];for(let xt=1;xt<=Re;xt++){const at=new Date(ge);at.setDate(at.getDate()+xt*7);const jt=at.getFullYear(),Zt=String(at.getMonth()+1).padStart(2,"0"),tt=String(at.getDate()).padStart(2,"0"),Tt=`${jt}-${Zt}-${tt}`,gt={...ae,id:`lesson-${Date.now()}-e${xt}`,date:Tt,time:ae.time,endTime:Ie(ae.time,Te)},Se=me(Ut),or=me(gt.time),Fn=me(gt.endTime||Ie(gt.time,60));if(or<Se&&Se<Fn)continue;const{id:Ar,...Bn}=gt;It(Bn,void 0)||Lt.push(gt)}Lt.length&&V(xt=>[...xt,...Lt])}}dn()},[L,ee,dn,g,It]),Cl=E.useCallback((C,Z,W,pe)=>{const ae=L.find(tt=>tt.id===C);if(!ae)return;const Ae=g.find(tt=>tt.id===ae.studentId);if(Ae&&Ae.status==="inactive"){alert(`Cannot schedule lessons for ${Ae.name} because they are not enrolled.`);return}const Re=Dt(Z),ge=W?tr(W):ae.time,Te=ae.endTime?(new Date(`1970-01-01T${ae.endTime}:00Z`).getTime()-new Date(`1970-01-01T${ae.time}:00Z`).getTime())/6e4:60,Lt=Ie(ge,Te),xt=me(Ut),at=me(ge),jt=me(Lt);if(at<xt&&xt<jt){alert(`Cannot schedule a lesson overlapping the lunch break (${Ut}).`);return}const Zt={...ae,date:Re,time:ge,endTime:Lt};if(pe){const tt={...Zt,id:`lesson-${Date.now()}`,notes:`(Copied) ${ae.notes||""}`.trim(),status:"scheduled"},Tt=It(tt);if(Tt){window.alert(`Could not copy lesson: ${Tt}`);return}V(gt=>[...gt,tt])}else{const tt={...Zt},Tt=It(tt,ae.id);if(Tt){window.alert(`Could not move lesson: ${Tt}`);return}V(gt=>gt.map(Se=>Se.id===C?tt:Se))}},[L,It,g]),cn=E.useCallback(C=>{const Z={id:`student-${Date.now()}`,studentIdNumber:Lr(),name:C.name,instrument:C.instrument,instructorId:C.instructorId,sessionsAttended:0,sessionsBilled:0,age:C.age,email:C.email,contactNumber:C.contactNumber,gender:C.gender,guardianName:C.guardianName,status:"active",profilePictureUrl:void 0};y(W=>[...W,Z].sort((pe,ae)=>pe.name.localeCompare(ae.name)))},[Lr]),$n=E.useCallback(C=>{y(Z=>Z.map(W=>W.id===C?{...W,status:W.status==="active"?"inactive":"active"}:W))},[]),Ws=E.useCallback(C=>{$(C),ce(!0)},[]),sr=E.useCallback(()=>{$(null),ce(!1)},[]),El=E.useCallback((C,Z)=>{y(W=>W.map(pe=>pe.id===C?{...pe,sessionsAttended:pe.sessionsBilled+Z}:pe)),sr()},[sr]),Vs=E.useCallback(C=>{oe(C),X(!0)},[]),An=E.useCallback(()=>{oe(null),_(!0),X(!0)},[]),On=E.useCallback(()=>{oe(null),X(!1),_(!1)},[]),zr=E.useCallback(C=>{if(K){const Z={...C,id:`inst-${Date.now()}`,status:"active"};S(W=>[...W,Z].sort((pe,ae)=>pe.name.localeCompare(ae.name)))}else S(Z=>Z.map(W=>W.id===C.id?C:W));On()},[K,On]),_t=E.useCallback(C=>{M(C),z(!0)},[]),Rr=E.useCallback(()=>{if(z(!1),!!f){switch(f.type){case"addInstructor":An();break;case"toggleInstructorStatus":{const{instructorId:C}=f;S(Z=>Z.map(W=>W.id===C?{...W,status:W.status==="active"?"inactive":"active"}:W));break}case"deleteLessonPermanently":{V(C=>C.filter(Z=>Z.id!==f.lessonId));break}case"enrollStudent":{const{studentData:C}=f;cn(C),et(`Student "${C.name.trim()}" has been successfully enrolled!`),setTimeout(()=>et(null),5e3);break}case"resetData":qt();break}M(null)}},[f,An,cn,qt]),fn=E.useCallback(()=>{z(!1)},[]),pn=E.useCallback(C=>{_t({type:"toggleInstructorStatus",instructorId:C})},[_t]),Ml=E.useCallback(C=>{_t({type:"enrollStudent",studentData:C})},[_t]),Dl=E.useCallback(()=>{_t({type:"resetData"})},[_t]),Il=E.useCallback(C=>{const Z=L.find(pe=>pe.id===C);if(!Z)return;const W=It(Z,C);if(W){alert(`Could not restore lesson: ${W}`);return}V(pe=>pe.map(ae=>ae.id===C?{...ae,status:"scheduled"}:ae))},[L]),_l=()=>{if(!f)return"";switch(f.type){case"addInstructor":return"add a new instructor";case"toggleInstructorStatus":{const C=O.find(W=>W.id===f.instructorId);return C?`${C.status==="active"?"deactivate":"activate"} instructor "${C.name||""}"`:""}case"deleteLessonPermanently":{const C=L.find(W=>W.id===f.lessonId);if(!C)return"";const Z=g.find(W=>W.id===C.studentId);return`permanently delete lesson for ${(Z==null?void 0:Z.name)||"Unknown"} on ${C.date}`}case"enrollStudent":return`enroll new student "${f.studentData.name}"`;case"resetData":return"reset all application data to its default state. This action is irreversible"}},Ll=E.useMemo(()=>L.filter(C=>C.status==="scheduled"),[L]),$r=E.useMemo(()=>L.filter(C=>C.status==="deleted"),[L]),Tl=(C,Z)=>{C.dataTransfer.setData("lessonId",Z.id),C.dataTransfer.effectAllowed=C.altKey?"copy":"move",be(!0)},mn=()=>be(!1),Hs={view:m,setView:u,isLoading:b,error:w,students:g,instructors:O,lessons:L,billings:se,currentDate:P,setCurrentDate:Q,calendarView:te,setCalendarView:j,theme:xe,fontSize:we,handleThemeToggle:_r,handleFontSizeChange:jl,activeLessons:Ll,deletedLessons:$r,activeInstructors:un,initializeAppData:qt,handleNavigate:Nl,handleDateSelect:Tr,handleOpenEditModal:bl,handleOpenAddModal:Sl,handleCloseEditModal:dn,isEditModalOpen:I,editingLesson:fe,isAddMode:ee,handleUpdateLesson:lr,handleMoveLessonToTrash:Pr,handleUpdateLessonPosition:Cl,handleLessonDragStart:Tl,handleLessonDragEnd:mn,handleMarkAttendance:Rn,handleMarkAsPaid:on,handleToggleStudentStatus:$n,isEditSessionModalOpen:U,editingStudent:q,handleOpenEditSessionModal:Ws,handleCloseEditSessionModal:sr,handleUpdateStudentSessions:El,isEditInstructorModalOpen:Y,editingInstructor:ye,isAddInstructorMode:K,handleOpenEditInstructorModal:Vs,handleOpenAddInstructorModal:An,handleCloseEditInstructorModal:On,handleSaveInstructor:zr,isAdminAuthModalOpen:H,adminActionToConfirm:f,getAdminActionDescription:_l,handleRequestAdminAction:_t,handleAdminAuthSuccess:Rr,handleCloseAdminAuthModal:fn,handleToggleInstructorStatus:pn,handleRequestEnrollment:Ml,handleRequestResetData:Dl,handleRestoreLesson:Il,enrollmentSuccessMessage:_e,installPromptEvent:Xt,handleInstallRequest:rr,isDragging:De,handleDropOnTrash:C=>{Pr(C),be(!1)},timeSlots:Xe};return s.jsx(bd.Provider,{value:Hs,children:s.jsx("div",{onDragEnd:mn,children:d})})},nr=()=>{const d=E.useContext(bd);if(!d)throw new Error("useApp must be used within AppProvider");return d},Lo=({label:d,icon:m,isActive:u,onClick:b,isMobile:k=!1})=>{const w=k?"flex items-center space-x-3 px-4 py-2.5 text-base w-full":"flex items-center space-x-2 px-3 py-2 rounded-md font-medium transition-colors duration-200",N="bg-brand-primary text-text-on-color font-semibold",g=k?"text-text-primary dark:text-slate-200 hover:bg-surface-hover dark:hover:bg-slate-700":"text-text-secondary dark:text-slate-300 hover:bg-surface-hover dark:hover:bg-slate-700 hover:text-text-primary dark:hover:text-slate-100";return s.jsxs("button",{onClick:b,className:`${w} ${u?N:g}`,children:[m,s.jsx("span",{children:d})]})},pd=({className:d="h-6 w-6"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:d,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),md=({className:d="h-6 w-6"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:d,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),Mf=({currentView:d,setView:m,theme:u,onToggleTheme:b,fontSize:k,onFontSizeChange:w,onRequestResetData:N,installPromptEvent:g,onInstallRequest:y})=>{const[O,S]=E.useState(!1),[L,V]=E.useState(!1),se=E.useRef(null);E.useEffect(()=>{const D=fe=>{se.current&&!se.current.contains(fe.target)&&V(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const B=[{label:"Dashboard",icon:Je.calendar,view:"dashboard"},{label:"Enrollment",icon:Je.enrollment,view:"enrollment"},{label:"Teachers",icon:Je.teachers,view:"teachers"},{label:"Students",icon:Je.users,view:"students"},{label:"Billing",icon:Je.billing,view:"billing"}],I=[{size:"sm",label:"Small"},{size:"base",label:"Normal"},{size:"lg",label:"Large"}];return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"bg-surface-header/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-surface-border dark:border-slate-800 sticky top-0 z-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("h1",{className:"text-xl md:text-2xl",children:[s.jsx("span",{className:"font-light text-text-primary dark:text-slate-100",children:"Grey"}),s.jsx("span",{className:"font-extrabold text-brand-secondary-deep-dark dark:text-brand-secondary",children:"Harmonics"})]})}),s.jsxs("nav",{className:"hidden md:flex items-center md:space-x-1 lg:space-x-2",children:[B.map(D=>s.jsx(Lo,{label:D.label,icon:D.icon,isActive:d===D.view,onClick:()=>m(D.view)},D.view)),s.jsx("div",{className:"border-l border-surface-border dark:border-slate-700 h-6 mx-2"}),s.jsxs("div",{className:"relative",ref:se,children:[s.jsx("button",{onClick:()=>V(D=>!D),className:`p-2 rounded-full transition-colors text-text-secondary dark:text-slate-300 hover:bg-surface-hover dark:hover:bg-slate-700 hover:text-text-primary dark:hover:text-slate-100 ${L?"bg-surface-hover dark:bg-slate-700":""}`,"aria-label":"Open settings menu","aria-haspopup":"true","aria-expanded":L,children:zn.cloneElement(Je.settings,{className:"h-5 w-5"})}),L&&s.jsx("div",{className:"absolute right-0 top-full mt-2 w-64 bg-surface-card dark:bg-slate-800 border border-surface-border dark:border-slate-700 rounded-lg shadow-lg z-40 py-1 origin-top-right animate-[scale-in_100ms_ease-out]",children:s.jsxs("ul",{children:[g&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:s.jsxs("button",{onClick:()=>{y(),V(!1)},className:"w-full text-left px-4 py-2 text-text-primary dark:text-slate-200 bg-brand-primary-light dark:bg-brand-primary/20 hover:bg-brand-primary/30 transition-colors flex items-center space-x-3",children:[zn.cloneElement(Je.install,{className:"h-4 w-4"}),s.jsx("span",{children:"Install App"})]})}),s.jsx("li",{role:"separator",className:"border-b border-surface-border dark:border-slate-700 my-1"})]}),s.jsx("li",{className:"px-4 pt-2 pb-1 text-xs font-semibold text-text-tertiary dark:text-slate-500 uppercase tracking-wider",children:"Appearance"}),s.jsx("li",{children:s.jsxs("button",{onClick:b,className:"w-full text-left px-4 py-2 text-text-primary dark:text-slate-200 hover:bg-surface-hover dark:hover:bg-slate-700 transition-colors flex items-center justify-between",children:[s.jsxs("span",{children:["Switch to ",u==="light"?"Dark":"Light"," Mode"]}),u==="light"?s.jsx(md,{className:"h-4 w-4"}):s.jsx(pd,{className:"h-4 w-4"})]})}),s.jsx("li",{children:s.jsxs("div",{className:"px-4 py-2",children:[s.jsx("label",{className:"text-sm font-medium text-text-primary dark:text-slate-200",children:"Font Size"}),s.jsx("div",{className:"mt-2 flex bg-surface-input dark:bg-slate-900 rounded-md p-1 space-x-1",children:I.map(D=>s.jsx("button",{onClick:()=>w(D.size),className:`w-full text-center text-xs p-1 rounded-md transition-colors ${k===D.size?"bg-brand-primary text-text-on-color font-semibold shadow":"text-text-secondary dark:text-slate-300 hover:bg-surface-hover dark:hover:bg-slate-700"}`,children:D.label},D.size))})]})}),s.jsx("li",{role:"separator",className:"border-b border-surface-border dark:border-slate-700 my-1"}),s.jsx("li",{className:"px-4 pt-2 pb-1 text-xs font-semibold text-text-tertiary dark:text-slate-500 uppercase tracking-wider",children:"Data"}),s.jsx("li",{children:s.jsxs("button",{onClick:()=>{m("trash"),V(!1)},className:"w-full text-left px-4 py-2 text-text-primary dark:text-slate-200 hover:bg-surface-hover dark:hover:bg-slate-700 transition-colors flex items-center space-x-3",children:[zn.cloneElement(Je.trash,{className:"h-4 w-4"}),s.jsx("span",{children:"View Trash"})]})}),s.jsx("li",{children:s.jsxs("button",{onClick:()=>{N(),V(!1)},className:"w-full text-left px-4 py-2 text-status-red hover:bg-status-red-light dark:hover:bg-status-red/20 transition-colors flex items-center space-x-3",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.01-1.742 3.01H4.42c-1.53 0-2.493-1.676-1.743-3.01l5.58-9.92zM10 5a1 1 0 011 1v3a1 1 0 01-2 0V6a1 1 0 011-1zm1 5a1 1 0 10-2 0v.01a1 1 0 102 0V10z",clipRule:"evenodd"})}),s.jsx("span",{children:"Reset Application Data"})]})})]})})]})]}),s.jsx("div",{className:"md:hidden",children:s.jsxs("button",{onClick:()=>S(!O),className:"inline-flex items-center justify-center p-2 rounded-md text-text-secondary dark:text-slate-300 hover:text-text-primary dark:hover:text-slate-100 hover:bg-surface-hover dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-brand-primary","aria-controls":"mobile-menu","aria-expanded":O,children:[s.jsx("span",{className:"sr-only",children:"Open main menu"}),O?s.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):s.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})})}),O&&s.jsxs("div",{className:"md:hidden fixed inset-0 z-30",id:"mobile-menu",children:[s.jsx("div",{className:"fixed inset-0 bg-black/30 dark:bg-black/50","aria-hidden":"true",onClick:()=>S(!1)}),s.jsx("div",{className:"fixed top-16 left-0 right-0 bg-surface-header dark:bg-slate-800 shadow-lg border-t border-surface-border dark:border-slate-700",children:s.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[B.map(D=>s.jsx(Lo,{label:D.label,icon:D.icon,isActive:d===D.view,onClick:()=>{m(D.view),S(!1)},isMobile:!0},D.view)),g&&s.jsxs("button",{onClick:()=>{y(),S(!1)},className:"flex items-center space-x-3 px-4 py-2.5 text-base w-full text-text-primary dark:text-slate-200 bg-brand-primary-light dark:bg-brand-primary/20 hover:bg-black/5 dark:hover:bg-brand-primary/30 rounded-md",children:[zn.cloneElement(Je.install,{className:"h-6 w-6"}),s.jsx("span",{children:"Install App"})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("div",{className:"px-4 pb-1 text-sm font-semibold text-text-tertiary dark:text-slate-500 uppercase tracking-wider",children:"Appearance"}),s.jsx("button",{onClick:()=>b(),className:"flex items-center justify-between space-x-3 px-4 py-2.5 text-base w-full text-text-primary dark:text-slate-200 hover:bg-surface-hover dark:hover:bg-slate-700",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[u==="light"?s.jsx(md,{}):s.jsx(pd,{}),s.jsxs("span",{children:["Switch to ",u==="light"?"Dark":"Light"," Mode"]})]})}),s.jsxs("div",{className:"px-4 py-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-text-primary dark:text-slate-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8h16M4 16h16M8 4v16M16 4v16"})}),s.jsx("span",{className:"text-base text-text-primary dark:text-slate-200",children:"Font Size"})]}),s.jsx("div",{className:"mt-2 flex bg-surface-input dark:bg-slate-900 rounded-lg p-1 space-x-1",children:I.map(D=>s.jsx("button",{onClick:()=>w(D.size),className:`w-full text-center text-sm p-2 rounded-md transition-colors ${k===D.size?"bg-brand-primary text-text-on-color font-semibold shadow":"text-text-secondary dark:text-slate-300"}`,children:D.label},D.size))})]}),s.jsx("div",{role:"separator",className:"border-t border-surface-border dark:border-slate-700 my-2 mx-4"}),s.jsx("div",{className:"px-4 pb-1 text-sm font-semibold text-text-tertiary dark:text-slate-500 uppercase tracking-wider",children:"Data"}),s.jsx(Lo,{label:"View Trash",icon:Je.trash,isActive:d==="trash",onClick:()=>{m("trash"),S(!1)},isMobile:!0}),s.jsxs("button",{onClick:()=>{N(),S(!1)},className:"flex items-center space-x-3 px-4 py-2.5 text-base w-full text-status-red hover:bg-status-red-light/50 dark:hover:bg-status-red/20 rounded-md",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.01-1.742 3.01H4.42c-1.53 0-2.493-1.676-1.743-3.01l5.58-9.92zM10 5a1 1 0 011 1v3a1 1 0 01-2 0V6a1 1 0 011-1zm1 5a1 1 0 10-2 0v.01a1 1 0 102 0V10z",clipRule:"evenodd"})}),s.jsx("span",{children:"Reset Data"})]})]})]})})]}),s.jsx("style",{children:`
        @keyframes scale-in {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .animate-\\[scale-in_100ms_ease-out\\] {
            animation: scale-in 100ms ease-out;
        }
       `})]})},Df=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-brand-primary"}),s.jsx("p",{className:"text-text-secondary dark:text-slate-400 text-lg",children:"Generating Schedule..."})]}),ht=({children:d,className:m="",...u})=>s.jsx("div",{className:`bg-surface-card dark:bg-slate-800 border border-surface-border dark:border-slate-700 rounded-lg ${m}`,...u,children:d}),If=({isOpen:d,onClose:m,onSave:u,onMoveToTrash:b,lesson:k,isAddMode:w,instructors:N,students:g,allLessons:y,timeSlots:O})=>{var de;const[S,L]=E.useState(null),[V,se]=E.useState(null),B=zn.useMemo(()=>{const P=[];if(O.length===0)return P;let Q=O[0];const te=Ie(O[O.length-1],60);for(;me(Q)<=me(te);)Q!==Ut&&P.push(Q),Q=Ie(Q,15);return P},[O]);if(E.useEffect(()=>{if(k)if(w){const P=g.find(Q=>Q.status==="active");L({id:k.id,studentId:(P==null?void 0:P.id)||"",instructorId:N.length>0?N[0].id:"",roomId:k.roomId,date:k.date,time:k.time,endTime:k.endTime||Ie(k.time,60),notes:k.notes||"",repeatWeekly:!1,repeatWeeks:11})}else L({id:k.id,studentId:k.studentId,instructorId:k.instructorId,roomId:k.roomId,date:k.date,time:k.time,endTime:k.endTime||Ie(k.time,60),notes:k.notes||"",repeatWeekly:!1,repeatWeeks:11});else L(null);se(null)},[k,w,g,N]),!d||!S)return null;const I=P=>{const{name:Q,value:te}=P.target;L(j=>j?{...j,[Q]:Q==="roomId"?parseInt(te):te}:null),se(null)},D=P=>{const{id:Q,date:te,time:j,endTime:U,instructorId:ce,roomId:q,studentId:$}=P,Y=me(j),X=me(U||Ie(j,60)),ye=me(Ut);if(Y<ye&&ye<X)return`Cannot schedule overlapping the lunch break (${Ut}).`;for(const oe of y){if(oe.id===Q||oe.status==="deleted"||oe.date!==te)continue;const K=me(oe.time),_=me(oe.endTime||Ie(oe.time,60));if(Y<_&&K<X){if(oe.instructorId===ce){const z=N.find(f=>f.id===ce);return`Instructor ${(z==null?void 0:z.name)||""} is already scheduled during this time.`}if(oe.roomId===q)return`Room ${q} is already booked during this time.`;if(oe.studentId===$){const z=g.find(f=>f.id===$);return`Student ${(z==null?void 0:z.name)||""} already has a lesson during this time.`}}}return null},fe=P=>{if(P.preventDefault(),!S)return;if(w){const j=g.find(U=>U.id===S.studentId);if(!j){se("Please select a student.");return}if(j.status==="inactive"){const U=`Student "${j.name}" is not enrolled. Please activate the student to schedule new lessons.`;se(U),window.alert(U);return}}const Q={...S,time:fd(S.time),endTime:S.endTime?fd(S.endTime):Ie(S.time,60)};if(me(Q.endTime)<=me(Q.time)){se("End time must be after start time.");return}const te=D(Q);if(te){se(te);return}u(Q)},ve=()=>{k&&b(k.id)},ee="w-full bg-surface-input dark:bg-slate-700 border-surface-border dark:border-slate-600 rounded-md p-2 text-text-primary dark:text-slate-100 focus:ring-brand-primary dark:focus:ring-brand-secondary focus:border-brand-primary dark:focus:border-brand-secondary";return s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex justify-center items-center p-4",onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"edit-lesson-title",children:s.jsx("div",{onClick:P=>P.stopPropagation(),className:"w-full max-w-lg",children:s.jsx(ht,{children:s.jsxs("form",{onSubmit:fe,children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{id:"edit-lesson-title",className:"text-2xl font-bold text-text-primary dark:text-slate-100 mb-2",children:w?"Add New Lesson":"Edit Lesson"}),!w&&s.jsxs("p",{className:"text-text-secondary dark:text-slate-400 mb-6",children:["Student: ",s.jsx("span",{className:"font-semibold text-brand-secondary",children:((de=g.find(P=>P.id===S.studentId))==null?void 0:de.name)||"Unknown"})]}),V&&s.jsx("div",{className:"bg-status-red-light dark:bg-status-red/20 border border-status-red/20 text-status-red px-4 py-3 rounded-md mb-4 font-medium",role:"alert",children:V}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"studentId",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Student"}),s.jsxs("select",{id:"studentId",name:"studentId",value:S.studentId,onChange:I,className:ee,required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Select a student"}),g.sort((P,Q)=>P.name.localeCompare(Q.name)).map(P=>s.jsxs("option",{value:P.id,children:[P.name," ",P.status==="inactive"?"(Not Enrolled)":""]},P.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"instructorId",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Instructor"}),s.jsx("select",{id:"instructorId",name:"instructorId",value:S.instructorId,onChange:I,className:ee,children:N.length>0?N.map(P=>s.jsxs("option",{value:P.id,children:[P.name," (",P.specialty,")"]},P.id)):s.jsx("option",{children:"No instructors available"})})]})]}):s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"instructorId",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Instructor"}),s.jsx("select",{id:"instructorId",name:"instructorId",value:S.instructorId,onChange:I,className:ee,children:N.length>0?N.map(P=>s.jsxs("option",{value:P.id,children:[P.name," (",P.specialty,")"]},P.id)):s.jsx("option",{children:"No instructors available"})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Date"}),s.jsx("input",{type:"date",id:"date",name:"date",value:S.date,onChange:I,className:ee})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Start Time"}),s.jsx("select",{id:"time",name:"time",value:S.time,onChange:I,className:ee,children:B.map(P=>s.jsx("option",{value:P,children:P},P))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"endTime",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"End Time"}),s.jsx("select",{id:"endTime",name:"endTime",value:S.endTime||"",onChange:I,className:ee,children:B.map(P=>s.jsx("option",{value:P,children:P},P))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"roomId",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Room"}),s.jsx("input",{type:"number",id:"roomId",name:"roomId",value:S.roomId,onChange:I,min:"1",max:jd,className:ee})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Notes"}),s.jsx("textarea",{id:"notes",name:"notes",value:S.notes||"",onChange:I,rows:3,className:ee,placeholder:"Add any specific notes for this lesson..."})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("label",{className:"inline-flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"repeatWeekly",checked:!!S.repeatWeekly,onChange:P=>L(Q=>Q&&{...Q,repeatWeekly:P.target.checked}),className:"h-4 w-4"}),s.jsx("span",{className:"text-sm text-text-secondary dark:text-slate-400",children:"Repeat weekly"})]}),S.repeatWeekly&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"repeatWeeks",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Number of additional weeks"}),s.jsx("input",{id:"repeatWeeks",type:"number",min:1,max:52,value:S.repeatWeeks||1,onChange:P=>L(Q=>Q&&{...Q,repeatWeeks:Math.max(1,Math.min(52,parseInt(P.target.value||"1")))}),className:ee})]}),s.jsxs("div",{className:"text-xs text-text-secondary dark:text-slate-400 self-end",children:["Enabling this will also schedule this lesson every week on the same weekday and time for the next ",S.repeatWeeks||1," week(s)."]})]})]})]}),s.jsxs("div",{className:"bg-surface-header dark:bg-slate-700/50 p-4 flex justify-between items-center rounded-b-lg border-t border-surface-border dark:border-slate-700",children:[s.jsx("div",{children:!w&&s.jsxs("button",{type:"button",onClick:ve,className:"px-4 py-2 rounded-md font-semibold text-white bg-status-red hover:opacity-90 transition-opacity flex items-center space-x-2","aria-label":"Move this lesson to the trash",children:[Je.trash,s.jsx("span",{children:"Move to Trash"})]})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 rounded-md font-semibold text-text-secondary dark:text-slate-300 bg-surface-input dark:bg-slate-600 hover:brightness-95 dark:hover:bg-slate-500 transition-all",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md font-semibold text-text-on-color bg-brand-primary hover:opacity-90 transition-opacity",children:w?"Add Lesson":"Save Changes"})]})]})]})})})})},_f=({isOpen:d,onClose:m,onSave:u,student:b})=>{const[k,w]=E.useState(""),[N,g]=E.useState(!1),[y,O]=E.useState(0),[S,L]=E.useState(null);if(E.useEffect(()=>{b&&O(b.sessionsAttended-b.sessionsBilled),d&&(g(!1),w(""),L(null))},[b,d]),!d||!b)return null;const V=D=>{D.preventDefault(),k===Nd?(g(!0),L(null)):L("Incorrect password. Please try again.")},se=()=>{u(b.id,y)},B=()=>{m()},I="w-full bg-surface-input dark:bg-slate-700 border-surface-border dark:border-slate-600 rounded-md p-2 text-text-primary dark:text-slate-100 focus:ring-brand-primary dark:focus:ring-brand-secondary focus:border-brand-primary dark:focus:border-brand-secondary";return s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex justify-center items-center p-4",onClick:B,role:"dialog","aria-modal":"true",children:s.jsx("div",{onClick:D=>D.stopPropagation(),className:"w-full max-w-sm",children:s.jsx(ht,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary dark:text-slate-100 mb-2",children:"Edit Unpaid Sessions"}),s.jsxs("p",{className:"text-text-secondary dark:text-slate-400 mb-6",children:["For student: ",s.jsx("span",{className:"font-semibold text-brand-secondary",children:b.name})]}),S&&s.jsx("div",{className:"bg-status-red-light dark:bg-status-red/20 border-status-red/20 text-status-red px-4 py-3 rounded-md mb-4 font-medium",role:"alert",children:S}),N?s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unpaidSessionCount",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Unpaid Session Count"}),s.jsx("input",{type:"number",id:"unpaidSessionCount",value:y,onChange:D=>O(parseInt(D.target.value,10)||0),min:"0",className:I,autoFocus:!0}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 rounded-md font-semibold text-text-secondary dark:text-slate-300 bg-surface-input dark:bg-slate-600 hover:brightness-95 dark:hover:bg-slate-500 transition-all",children:"Cancel"}),s.jsx("button",{type:"button",onClick:se,className:"px-4 py-2 rounded-md font-semibold text-text-on-color bg-brand-primary hover:opacity-90 transition-opacity",children:"Save Changes"})]})]}):s.jsxs("form",{onSubmit:V,children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Admin Password Required"}),s.jsx("input",{type:"password",id:"password",value:k,onChange:D=>w(D.target.value),className:I,required:!0,autoFocus:!0}),s.jsx("button",{type:"submit",className:"mt-4 w-full px-4 py-2 rounded-md font-semibold text-text-on-color bg-brand-primary hover:opacity-90 transition-opacity",children:"Authenticate"})]})]})})})})},Lf=({isOpen:d,onClose:m,onSave:u,instructor:b,isAddMode:k})=>{const[w,N]=E.useState(null);if(E.useEffect(()=>{N(k?{id:"",name:"",specialty:"",color:Us[0],profilePictureUrl:void 0,status:"active"}:b)},[b,k]),!d||!w)return null;const g=L=>{const{name:V,value:se}=L.target;N(B=>B?{...B,[V]:se}:null)},y=L=>{N(V=>V?{...V,color:L}:null)},O=L=>{L.preventDefault(),w&&w.name.trim()&&w.specialty.trim()&&u(w)},S="w-full bg-surface-input dark:bg-slate-700 border-surface-border dark:border-slate-600 rounded-md p-2 text-text-primary dark:text-slate-100 focus:ring-brand-primary dark:focus:ring-brand-secondary focus:border-brand-primary dark:focus:border-brand-secondary";return s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex justify-center items-center p-4",onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"edit-instructor-title",children:s.jsx("div",{onClick:L=>L.stopPropagation(),className:"w-full max-w-md",children:s.jsx(ht,{children:s.jsxs("form",{onSubmit:O,children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{id:"edit-instructor-title",className:"text-xl font-bold text-text-primary dark:text-slate-100 mb-6",children:k?"Add New Instructor":"Edit Instructor"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Instructor Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:w.name,onChange:g,className:S,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"specialty",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Specialty"}),s.jsx("input",{type:"text",id:"specialty",name:"specialty",value:w.specialty,onChange:g,className:S,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-2",children:"Color Code"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Us.map(L=>s.jsx("button",{type:"button",onClick:()=>y(L),className:`w-8 h-8 rounded-full transition-all duration-150 border-2 ${w.color===L?"ring-2 ring-offset-2 dark:ring-offset-slate-800 ring-brand-primary dark:ring-brand-secondary border-white dark:border-slate-800":"border-transparent"}`,style:{backgroundColor:L},"aria-label":`Select color ${L}`},L))})]})]})]}),s.jsx("div",{className:"bg-surface-header dark:bg-slate-700/50 p-4 flex justify-end items-center rounded-b-lg border-t border-surface-border dark:border-slate-700",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 rounded-md font-semibold text-text-secondary dark:text-slate-300 bg-surface-input dark:bg-slate-600 hover:brightness-95 dark:hover:bg-slate-500 transition-all",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md font-semibold text-text-on-color bg-brand-primary hover:opacity-90 transition-opacity",children:k?"Add Instructor":"Save Changes"})]})})]})})})})},Tf=({isOpen:d,onClose:m,onSuccess:u,actionDescription:b})=>{const[k,w]=E.useState(""),[N,g]=E.useState(null);if(E.useEffect(()=>{d&&(w(""),g(null))},[d]),!d)return null;const y=S=>{S.preventDefault(),k===Nd?(g(null),u()):g("Incorrect password. Please try again.")};return s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex justify-center items-center p-4",onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"admin-auth-title",children:s.jsx("div",{onClick:S=>S.stopPropagation(),className:"w-full max-w-sm",children:s.jsx(ht,{children:s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{id:"admin-auth-title",className:"text-xl font-bold text-text-primary dark:text-slate-100 mb-2",children:"Admin Authorization"}),s.jsxs("p",{className:"text-text-secondary dark:text-slate-400 mb-6",children:["Password required to ",b,"."]}),N&&s.jsx("div",{className:"bg-status-red-light dark:bg-status-red/20 border border-status-red/20 text-status-red px-4 py-3 rounded-md mb-4 font-medium",role:"alert",children:N}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"admin-password",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Admin Password"}),s.jsx("input",{type:"password",id:"admin-password",value:k,onChange:S=>w(S.target.value),className:"w-full bg-surface-input dark:bg-slate-700 border-surface-border dark:border-slate-600 rounded-md p-2 text-text-primary dark:text-slate-100 focus:ring-brand-primary dark:focus:ring-brand-secondary focus:border-brand-primary dark:focus:border-brand-secondary",required:!0,autoFocus:!0})]})]}),s.jsxs("div",{className:"bg-surface-header dark:bg-slate-700/50 p-4 flex justify-end space-x-3 rounded-b-lg border-t border-surface-border dark:border-slate-700",children:[s.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 rounded-md font-semibold text-text-secondary dark:text-slate-300 bg-surface-input dark:bg-slate-600 hover:brightness-95 dark:hover:bg-slate-500 transition-all",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md font-semibold text-text-on-color bg-brand-primary hover:opacity-90 transition-opacity",children:"Authorize"})]})]})})})})},Pf=({isOver:d})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-[28px] w-[28px] transition-all duration-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 6h18",className:`transition-transform duration-300 ease-in-out ${d?"translate-x-1 -translate-y-1 rotate-[-15deg]":""}`,style:{transformOrigin:"5px 6px"}}),s.jsx("path",{d:"M8 6V4a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2"}),s.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),s.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),s.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),zf=({isVisible:d,onDropLesson:m})=>{const[u,b]=E.useState(!1),k=y=>{y.preventDefault(),y.dataTransfer.dropEffect="move"},w=y=>{y.preventDefault(),b(!0)},N=y=>{y.relatedTarget&&y.currentTarget.contains(y.relatedTarget)||b(!1)},g=y=>{y.preventDefault();const O=y.dataTransfer.getData("lessonId");O&&m(O),b(!1)};return s.jsx("div",{onDragOver:k,onDragEnter:w,onDragLeave:N,onDrop:g,className:`fixed bottom-0 left-0 right-0 h-40 z-40 flex justify-center items-end pb-5
      bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-black/5 dark:from-white/10 via-transparent
      transition-opacity duration-300 ease-in-out
      ${d?"pointer-events-auto":"pointer-events-none"}
      ${u?"opacity-100":"opacity-0"}
      `,"aria-hidden":!d,children:s.jsx("div",{className:`
          w-[72px] h-[72px]
          flex items-center justify-center
          rounded-full
          bg-black/5 dark:bg-white/10
          backdrop-blur-xl
          border border-black/10 dark:border-white/20
          shadow-lg
          transition-all duration-300 ease-in-out
          ${u?"scale-110 bg-status-red/20 border-status-red/30":"scale-100"}
        `,"aria-label":"Trash Zone",children:s.jsx("div",{className:`transition-colors duration-300 ${u?"text-status-red":"text-slate-500 dark:text-slate-400"}`,children:s.jsx(Pf,{isOver:u})})})})},Rf=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),$f=({lessons:d,students:m,instructors:u,currentDate:b,onEditLesson:k,onAddLesson:w,onUpdateLessonPosition:N,onLessonDragStart:g})=>{const y=E.useMemo(()=>new Map(m.map(I=>[I.id,I])),[m]),O=E.useMemo(()=>new Map(u.map(I=>[I.id,I])),[u]),S=E.useMemo(()=>{const I=new Map;d.forEach(D=>{const fe=D.date;I.has(fe)||I.set(fe,[]),I.get(fe).push(D)});for(const D of I.values())D.sort((fe,ve)=>fe.time.localeCompare(ve.time));return I},[d]),L=E.useMemo(()=>{const I=b.getFullYear(),D=b.getMonth(),fe=new Date(I,D,1).getDay(),ve=new Date(I,D+1,0).getDate(),ee=[],de=new Date(I,D,0).getDate();for(let te=0;te<fe;te++){const j=de-fe+te+1;ee.push({date:new Date(I,D-1,j),isCurrentMonth:!1})}for(let te=1;te<=ve;te++)ee.push({date:new Date(I,D,te),isCurrentMonth:!0});const Q=(7-ee.length%7)%7;for(let te=1;te<=Q;te++)ee.push({date:new Date(I,D+1,te),isCurrentMonth:!1});return ee},[b]),V=new Date,se=I=>{I.preventDefault(),I.dataTransfer.dropEffect=I.altKey?"copy":"move"},B=(I,D)=>{I.preventDefault();const fe=I.dataTransfer.getData("lessonId");fe&&N(fe,D,void 0,I.altKey)};return s.jsxs("div",{className:"grid grid-cols-7 gap-px bg-surface-border dark:bg-slate-700 border border-surface-border dark:border-slate-700 rounded-md overflow-hidden",children:[Bs.map(I=>s.jsx("div",{className:"text-center font-medium text-text-secondary dark:text-slate-400 text-xs sm:text-sm py-2 bg-surface-header dark:bg-slate-800",children:I},I)),L.map(({date:I,isCurrentMonth:D},fe)=>{const ve=Dt(I),ee=S.get(ve)||[],de=I.toDateString()===V.toDateString();return s.jsxs("div",{className:`relative bg-surface-card dark:bg-slate-800 p-1 sm:p-1.5 min-h-[90px] md:min-h-[120px] flex flex-col transition-colors ${D?"":"bg-surface-header/50 dark:bg-slate-900/50"}`,onDragOver:se,onDrop:P=>B(P,I),onDragEnter:P=>P.currentTarget.classList.add("bg-brand-primary-light","dark:bg-brand-primary/20"),onDragLeave:P=>P.currentTarget.classList.remove("bg-brand-primary-light","dark:bg-brand-primary/20"),children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:`text-xs font-semibold p-1.5 rounded-full flex items-center justify-center h-6 w-6 ${de?"bg-brand-primary text-text-on-color":""} ${D?"text-text-secondary dark:text-slate-400":"text-text-tertiary/70 dark:text-slate-600"}`,children:I.getDate()}),D&&s.jsx("button",{onClick:P=>{P.stopPropagation(),w(I)},className:"text-text-tertiary dark:text-slate-500 hover:text-brand-primary dark:hover:text-brand-primary transition-colors p-1 rounded-full hover:bg-surface-hover dark:hover:bg-slate-700","aria-label":`Add lesson on ${I.toLocaleDateString()}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12M6 12h12"})})})]}),s.jsx("div",{className:"mt-1 space-y-1 overflow-y-auto flex-grow",children:D&&ee.map(P=>{const Q=y.get(P.studentId),te=O.get(P.instructorId),j=P.notes&&P.notes.trim()!=="";return s.jsx("div",{className:"relative group",children:s.jsxs("button",{onDoubleClick:U=>{U.stopPropagation(),k(P)},style:{backgroundColor:te==null?void 0:te.color},className:"w-full text-left p-1 md:p-1.5 rounded-md text-text-on-color dark:text-slate-800 text-[10px] md:text-[11px] leading-tight transition-all hover:opacity-80 dark:hover:opacity-90 active:cursor-grabbing cursor-grab",title:`Lesson: ${Q==null?void 0:Q.name} at ${P.time}${j?`
Has note`:""}
Double-click to edit.`,"aria-label":`Lesson for ${Q==null?void 0:Q.name} at ${P.time}${j?". This lesson has a note.":""}. Double click to edit.`,draggable:"true",onDragStart:U=>g(U,P),children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("div",{className:"font-bold truncate",children:P.time}),j&&s.jsx(Rf,{})]}),s.jsx("div",{className:"truncate opacity-80",children:Q==null?void 0:Q.name})]})},P.id)})})]},fe)})]})},hd=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),Af=Xe[0],Of=Ie(Xe[Xe.length-1],60),Bt=me(Af),wl=me(Of),Pn=wl-Bt,Ge=2,er=60*Ge;function Ff(d){const m=d.map(N=>{const g=Math.max(Bt,me(N.time)),y=Math.min(wl,me(N.endTime||Ie(N.time,60)));return{l:N,s:g,e:y}}).filter(N=>N.e>N.s).sort((N,g)=>N.s-g.s),u=[];let b=[],k=-1;const w=()=>{if(b.length===0)return;const N=[],g=[];for(let O=0;O<b.length;O++){const S=b[O];let L=0;for(;L<N.length&&!(S.s>=N[L]);L++);L===N.length?N.push(S.e):N[L]=S.e,g[O]=L}const y=N.length;for(let O=0;O<b.length;O++){const S=b[O];u.push({...S.l,_lane:g[O],_lanes:y,_top:(S.s-Bt)*Ge,_height:(S.e-S.s)*Ge})}b=[],k=-1};for(const N of m)b.length===0||N.s<k?(b.push(N),k=Math.max(k,N.e)):(w(),b.push(N),k=N.e);return w(),u}const Bf=({lessons:d,students:m,instructors:u,currentDate:b,onEditLesson:k,onAddLesson:w,onUpdateLessonPosition:N,onLessonDragStart:g})=>{const[y,O]=E.useState(null),S=E.useMemo(()=>new Map(m.map(j=>[j.id,j])),[m]),L=E.useMemo(()=>new Map(u.map(j=>[j.id,j])),[u]),V=E.useMemo(()=>{const j=new Date(b);j.setDate(b.getDate()-b.getDay());const U=[];for(let ce=0;ce<7;ce++){const q=new Date(j);q.setDate(j.getDate()+ce),U.push(q)}return U},[b]),[se,B]=E.useState(()=>{const j=new Date,U=V.findIndex(ce=>ce.toDateString()===j.toDateString());return U!==-1?U:b.getDay()}),I=E.useMemo(()=>d.filter(j=>V.some(U=>Dt(U)===j.date)),[d,V]),D=E.useMemo(()=>{const j=new Map;for(const U of V){const ce=Dt(U),q=I.filter($=>$.date===ce);j.set(ce,Ff(q))}return j},[I,V]),fe=new Date,ve=(j,U)=>{j.preventDefault();const ce=j.dataTransfer.getData("lessonId");if(!ce)return;const q=j.currentTarget.getBoundingClientRect(),$=Math.min(Math.max(j.clientY-q.top,0),Pn*Ge),Y=Math.round($/Ge),X=Wt(Bt+Y),ye=tr(X);N(ce,U,ye,j.altKey),O(null)},ee=(j,U)=>{const ce=j.currentTarget.getBoundingClientRect(),q=Math.min(Math.max(j.clientY-ce.top,0),Pn*Ge),$=Math.round(q/Ge),Y=Wt(Bt+$),X=tr(Y);w(U,X)},de=(j,U)=>{j.preventDefault(),j.dataTransfer.dropEffect=j.altKey?"copy":"move";const ce=j.currentTarget.getBoundingClientRect(),q=Math.min(Math.max(j.clientY-ce.top,0),Pn*Ge),$=Math.round(q/Ge),Y=Wt(Bt+$),X=tr(Y),ye=j.dataTransfer.getData("lessonId"),oe=d.find(M=>M.id===ye),K=oe?me(oe.endTime||Ie(oe.time,60))-me(oe.time):60,_=Math.max(20,K*Ge);let H=(me(X)-Bt)*Ge;const z=Pn*Ge-_;H=Math.max(0,Math.min(H,z));const f=Wt(Math.min(wl,me(X)+K));O({top:H,height:_,label:`${X}${f}`,dateKey:Dt(U)})},P=()=>O(null),Q=V[se],te=D.get(Dt(Q))||[];return s.jsxs("div",{className:"border border-surface-border dark:border-slate-700 rounded-md overflow-hidden bg-surface-card dark:bg-slate-800",children:[s.jsxs("div",{className:"md:hidden",children:[s.jsx("div",{className:"border-b border-surface-border dark:border-slate-700",children:s.jsx("nav",{className:"-mb-px flex space-x-2 overflow-x-auto p-2","aria-label":"Tabs",children:V.map((j,U)=>s.jsxs("button",{onClick:()=>B(U),className:`whitespace-nowrap flex-shrink-0 p-2 border-b-2 font-medium text-sm rounded-t-md transition-colors ${se===U?"border-brand-primary text-brand-primary":"border-transparent text-text-secondary dark:text-slate-400 hover:text-text-primary dark:hover:text-slate-200 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[Bs[j.getDay()]," ",j.getDate()]},j.toISOString()))})}),s.jsxs("div",{className:"grid grid-cols-[64px_1fr]",children:[s.jsx("div",{className:"relative",style:{height:Pn*Ge},children:Xe.map((j,U)=>s.jsx("div",{className:"absolute left-0 right-0 px-2 text-right text-xs text-text-secondary dark:text-slate-400",style:{top:U*er},children:j},j))}),s.jsxs("div",{className:"relative border-l border-surface-border dark:border-slate-700",style:{height:Pn*Ge},onDragOver:j=>de(j,Q),onDrop:j=>ve(j,Q),onDragLeave:P,onDoubleClick:j=>ee(j,Q),children:[y&&y.dateKey===Dt(Q)&&s.jsxs("div",{className:"absolute left-0 right-0 pointer-events-none",style:{top:y.top,height:y.height},children:[s.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-brand-primary/70 bg-brand-primary/10 rounded-sm"}),s.jsx("div",{className:"absolute -left-1 -top-5 bg-brand-primary text-text-on-color text-[10px] px-1 py-0.5 rounded shadow-sm",children:y.label})]}),Xe.map((j,U)=>s.jsx("div",{className:"absolute left-0 right-0 border-t border-surface-border/60 dark:border-slate-700/60",style:{top:U*er}},j)),(()=>{const j=me(Ut);if(j>=Bt&&j<wl){const U=(j-Bt)*Ge;return s.jsx("div",{className:"absolute left-0 right-0 bg-surface-input/50 dark:bg-slate-700/50",style:{top:U,height:er}})}return null})(),te.map(j=>{const U=S.get(j.studentId),ce=L.get(j.instructorId),q=j.notes&&j.notes.trim()!=="",$=`calc(100% / ${j._lanes} - 6px)`,Y=`calc(${j._lane} * 100% / ${j._lanes})`,X=j.time,ye=j.endTime||Ie(j.time,60);return s.jsx("div",{className:"absolute p-1",style:{top:j._top,left:Y,width:$,height:Math.max(24,j._height)},children:s.jsxs("button",{onDoubleClick:oe=>{oe.stopPropagation(),k(j)},style:{backgroundColor:ce==null?void 0:ce.color,height:"100%"},className:"w-full text-left p-2 rounded text-text-on-color dark:text-slate-800 transition-all hover:opacity-90 active:cursor-grabbing cursor-grab shadow-sm",title:`Lesson: ${U==null?void 0:U.name} with ${ce==null?void 0:ce.name}  R${j.roomId}
${X}${ye}${q?`
Has note`:""}
Double-click to edit.`,"aria-label":`Lesson for ${U==null?void 0:U.name} with ${ce==null?void 0:ce.name} in Room ${j.roomId} from ${X} to ${ye}${q?". This lesson has a note.":""} Double click to edit.`,draggable:"true",onDragStart:oe=>g(oe,j),children:[s.jsxs("div",{className:"flex justify-between items-start w-full",children:[s.jsx("div",{className:"font-bold text-sm truncate",children:U==null?void 0:U.name}),q&&s.jsx(hd,{})]}),s.jsxs("div",{className:"text-xs opacity-80 truncate",children:[ce==null?void 0:ce.name,"  R",j.roomId]}),s.jsxs("div",{className:"text-[10px] opacity-90 mt-1",children:[X,"",ye]})]})},j.id)})]})]})]}),s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsxs("div",{className:"grid grid-cols-[auto_repeat(7,minmax(180px,1fr))] min-w-[1100px]",children:[s.jsx("div",{className:"text-xs p-2 text-center border-b border-r border-surface-border dark:border-slate-700 bg-surface-header dark:bg-slate-800 sticky left-0 z-10 text-text-secondary dark:text-slate-400",children:"Time"}),V.map(j=>s.jsxs("div",{className:"p-2 text-center border-b border-r border-surface-border dark:border-slate-700 bg-surface-header dark:bg-slate-800",children:[s.jsx("div",{className:"text-xs text-text-secondary dark:text-slate-400",children:Bs[j.getDay()]}),s.jsx("div",{className:`text-lg font-bold ${j.toDateString()===fe.toDateString()?"text-brand-primary":"text-text-primary dark:text-slate-200"}`,children:j.getDate()})]},j.toISOString())),s.jsx("div",{className:"relative border-r border-surface-border dark:border-slate-700",style:{height:Pn*Ge},children:Xe.map((j,U)=>s.jsx("div",{className:"absolute left-0 right-0 px-2 text-right text-xs text-text-secondary dark:text-slate-400",style:{top:U*er},children:j},j))}),V.map(j=>{const U=Dt(j),ce=D.get(U)||[];return s.jsx("div",{className:"relative border-r border-surface-border dark:border-slate-700",style:{height:Pn*Ge},children:s.jsxs("div",{className:"absolute inset-0",onDragOver:q=>de(q,j),onDrop:q=>ve(q,j),onDragLeave:P,onDoubleClick:q=>ee(q,j),children:[y&&y.dateKey===U&&s.jsxs("div",{className:"absolute left-0 right-0 pointer-events-none",style:{top:y.top,height:y.height},children:[s.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-brand-primary/70 bg-brand-primary/10 rounded-sm"}),s.jsx("div",{className:"absolute -left-1 -top-5 bg-brand-primary text-text-on-color text-[10px] px-1 py-0.5 rounded shadow-sm",children:y.label})]}),Xe.map((q,$)=>s.jsx("div",{className:"absolute left-0 right-0 border-t border-surface-border/60 dark:border-slate-700/60",style:{top:$*er}},q)),Xe.map((q,$)=>s.jsx("button",{onClick:Y=>{Y.stopPropagation(),w(j,q)},className:"absolute right-1 z-20 p-1 rounded-full text-text-tertiary dark:text-slate-400 hover:text-brand-primary dark:hover:text-brand-primary hover:bg-surface-hover dark:hover:bg-slate-700 transition-colors",style:{top:$*er+6},title:`Add lesson at ${q}`,"aria-label":`Add lesson at ${q}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12M6 12h12"})})},`add-${j.toISOString()}-${q}`)),(()=>{const q=me(Ut);if(q>=Bt&&q<wl){const $=(q-Bt)*Ge;return s.jsx("div",{className:"absolute left-0 right-0 bg-surface-input/50 dark:bg-slate-700/50",style:{top:$,height:er}})}return null})(),ce.map(q=>{var H;const $=S.get(q.studentId),Y=L.get(q.instructorId),X=q.notes&&q.notes.trim()!=="",ye=`calc(100% / ${q._lanes} - 6px)`,oe=`calc(${q._lane} * 100% / ${q._lanes})`,K=q.time,_=q.endTime||Ie(q.time,60);return s.jsx("div",{className:"absolute p-1",style:{top:q._top,left:oe,width:ye,height:Math.max(20,q._height)},children:s.jsxs("button",{onDoubleClick:z=>{z.stopPropagation(),k(q)},style:{backgroundColor:Y==null?void 0:Y.color,height:"100%"},className:"w-full text-left p-1.5 rounded text-text-on-color dark:text-slate-800 text-xs leading-tight transition-all hover:opacity-90 active:cursor-grabbing cursor-grab shadow-sm",title:`Lesson: ${$==null?void 0:$.name} with ${Y==null?void 0:Y.name}  R${q.roomId}
${K}${_}${X?`
Has note`:""}
Double-click to edit.`,"aria-label":`Lesson for ${$==null?void 0:$.name} with ${Y==null?void 0:Y.name} in Room ${q.roomId} from ${K} to ${_}${X?". This lesson has a note.":""} Double click to edit.`,draggable:"true",onDragStart:z=>g(z,q),children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"font-bold truncate",children:$==null?void 0:$.name}),X&&s.jsx(hd,{})]}),s.jsxs("div",{className:"truncate opacity-80",children:[(H=Y==null?void 0:Y.name)==null?void 0:H.split(" ")[0],"  R",q.roomId]}),s.jsxs("div",{className:"text-[10px] opacity-90 mt-0.5",children:[K,"",_]})]})},q.id)})]})},j.toISOString())})]})})]})},Uf=({lessons:d,students:m,instructors:u,currentDate:b,onEditLesson:k,onAddLesson:w,onUpdateLessonPosition:N,onLessonDragStart:g})=>{const[y,O]=E.useState(null),S=E.useMemo(()=>new Map(m.map($=>[$.id,$])),[m]),L=E.useMemo(()=>new Map(u.map($=>[$.id,$])),[u]),V=E.useMemo(()=>wd[b.getDay()],[b]),se=E.useMemo(()=>d.filter($=>$.date===Dt(b)),[d,b]),B=Xe[0],I=Ie(Xe[Xe.length-1],60),D=me(B),fe=me(I),ve=fe-D,ee=2,de=60*ee,P=E.useMemo(()=>{const $=se.map(K=>{const _=Math.max(D,me(K.time)),H=Math.min(fe,me(K.endTime||Ie(K.time,60)));return{l:K,s:_,e:H}}).filter(K=>K.e>K.s).sort((K,_)=>K.s-_.s),Y=[];let X=[],ye=-1;const oe=()=>{if(X.length===0)return;const K=[],_=[];for(let z=0;z<X.length;z++){const f=X[z];let M=0;for(;M<K.length&&!(f.s>=K[M]);M++);M===K.length?K.push(f.e):K[M]=f.e,_[z]=M}const H=K.length;for(let z=0;z<X.length;z++){const f=X[z];Y.push({...f.l,_lane:_[z],_lanes:H,_top:(f.s-D)*ee,_height:(f.e-f.s)*ee})}X=[],ye=-1};for(const K of $)X.length===0||K.s<ye?(X.push(K),ye=Math.max(ye,K.e)):(oe(),X.push(K),ye=K.e);return oe(),Y},[se,D,fe]),Q=E.useRef(null),te=$=>{var H;$.preventDefault();const Y=$.dataTransfer.getData("lessonId"),X=(H=Q.current)==null?void 0:H.getBoundingClientRect();if(!X)return;const ye=Math.min(Math.max($.clientY-X.top,0),ve*ee),oe=Math.round(ye/ee),K=Wt(D+oe),_=tr(K);Y&&N(Y,b,_,$.altKey),O(null)},j=$=>{var _;const Y=(_=Q.current)==null?void 0:_.getBoundingClientRect();if(!Y)return;const X=Math.min(Math.max($.clientY-Y.top,0),ve*ee),ye=Math.round(X/ee),oe=Wt(D+ye),K=tr(oe);w(b,K)},U=$=>{var we;$.preventDefault(),$.dataTransfer.dropEffect=$.altKey?"copy":"move";const Y=(we=Q.current)==null?void 0:we.getBoundingClientRect();if(!Y)return;const X=Math.min(Math.max($.clientY-Y.top,0),ve*ee),ye=Math.round(X/ee),oe=Wt(D+ye),K=tr(oe),_=$.dataTransfer.getData("lessonId"),H=se.find(Ne=>Ne.id===_),z=H?me(H.endTime||Ie(H.time,60))-me(H.time):60,f=Math.max(20,z*ee);let M=(me(K)-D)*ee;const xe=ve*ee-f;M=Math.max(0,Math.min(M,xe));const ke=Wt(Math.min(fe,me(K)+z));O({top:M,height:f,label:`${K}${ke}`})},ce=()=>O(null),q=V;return s.jsxs("div",{className:"border border-surface-border dark:border-slate-700 rounded-md overflow-hidden bg-surface-card dark:bg-slate-800",children:[s.jsxs("div",{className:"grid grid-cols-[64px_1fr]",children:[s.jsx("div",{className:"p-2 text-center border-b border-r border-surface-border dark:border-slate-700 bg-surface-header dark:bg-slate-800 text-xs text-text-secondary dark:text-slate-400",children:"Time"}),s.jsx("div",{className:"p-2 text-center border-b border-surface-border dark:border-slate-700 bg-surface-header dark:bg-slate-800 text-xs font-semibold text-text-primary dark:text-slate-200 uppercase tracking-wider",children:q})]}),s.jsxs("div",{className:"grid grid-cols-[64px_1fr]",children:[s.jsx("div",{className:"relative",style:{height:ve*ee},children:Xe.map(($,Y)=>s.jsx("div",{className:"absolute left-0 right-0 px-2 text-right text-xs text-text-secondary dark:text-slate-400",style:{top:Y*de},children:$},$))}),s.jsxs("div",{className:"relative border-l border-surface-border dark:border-slate-700",style:{height:ve*ee},ref:Q,onDragOver:U,onDrop:te,onDragLeave:ce,onDoubleClick:j,children:[y&&s.jsxs("div",{className:"absolute left-0 right-0 pointer-events-none",style:{top:y.top,height:y.height},children:[s.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-brand-primary/70 bg-brand-primary/10 rounded-sm"}),s.jsx("div",{className:"absolute -left-1 -top-5 bg-brand-primary text-text-on-color text-[10px] px-1 py-0.5 rounded shadow-sm",children:y.label})]}),Xe.map(($,Y)=>s.jsx("div",{className:"absolute left-0 right-0 border-t border-surface-border/60 dark:border-slate-700/60",style:{top:Y*de}},$)),Xe.map(($,Y)=>s.jsx("button",{onClick:X=>{X.stopPropagation(),w(b,$)},className:"absolute right-1 z-20 p-1 rounded-full text-text-tertiary dark:text-slate-400 hover:text-brand-primary dark:hover:text-brand-primary hover:bg-surface-hover dark:hover:bg-slate-700 transition-colors",style:{top:Y*de+6},title:`Add lesson at ${$}`,"aria-label":`Add lesson at ${$}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12M6 12h12"})})},`add-${$}`)),(()=>{const $=me(Ut);if($>=D&&$<fe){const Y=($-D)*ee;return s.jsx("div",{className:"absolute left-0 right-0 bg-surface-input/50 dark:bg-slate-700/50",style:{top:Y,height:de}})}return null})(),P.map($=>{const Y=S.get($.studentId),X=L.get($.instructorId),ye=$.notes&&$.notes.trim()!=="",oe=`calc(100% / ${$._lanes} - 6px)`,K=`calc(${$._lane} * 100% / ${$._lanes})`,_=$.time,H=$.endTime||Ie($.time,60);return s.jsx("div",{className:"absolute p-1",style:{top:$._top,left:K,width:oe,height:Math.max(24,$._height)},children:s.jsxs("button",{onDoubleClick:z=>{z.stopPropagation(),k($)},style:{backgroundColor:X==null?void 0:X.color,height:"100%"},className:"w-full text-left p-2 rounded text-text-on-color dark:text-slate-800 transition-all hover:opacity-90 active:cursor-grabbing cursor-grab shadow-sm",title:`Lesson: ${Y==null?void 0:Y.name} with ${X==null?void 0:X.name}  R${$.roomId}
${_}${H}${ye?`
Has note`:""}
Double-click to edit.`,"aria-label":`Lesson for ${Y==null?void 0:Y.name} with ${X==null?void 0:X.name} in Room ${$.roomId} from ${_} to ${H}${ye?". This lesson has a note.":""} Double click to edit.`,draggable:"true",onDragStart:z=>g(z,$),children:[s.jsxs("div",{className:"flex justify-between items-start w-full",children:[s.jsx("div",{className:"font-bold text-sm truncate",children:Y==null?void 0:Y.name}),ye&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})]}),s.jsxs("div",{className:"text-xs opacity-80 truncate",children:[X==null?void 0:X.name,"  R",$.roomId]}),s.jsxs("div",{className:"text-[10px] opacity-90 mt-1",children:[_,"",H]})]})},$.id)})]})]})]})},Wf=({year:d,month:m,isSelected:u,today:b,onSelect:k})=>{const w=new Date(d,m,1).getDay(),N=new Date(d,m+1,0).getDate(),g=[];for(let y=0;y<w;y++)g.push(s.jsx("div",{className:"text-center text-xs"},`pad-prev-${y}`));for(let y=1;y<=N;y++){const O=b.getDate()===y&&b.getMonth()===m&&b.getFullYear()===d;g.push(s.jsx("div",{className:"flex justify-center items-center",children:s.jsx("span",{className:`text-center text-xs w-5 h-5 flex items-center justify-center rounded-full ${O?"bg-brand-primary text-text-on-color":""}`,children:y})},`day-${y}`))}return s.jsxs("div",{onClick:k,className:`p-2 border rounded-lg cursor-pointer transition-colors duration-200 ${u?"border-brand-primary dark:border-brand-secondary bg-brand-primary-light dark:bg-brand-primary/20":"border-surface-border dark:border-slate-700 hover:bg-surface-hover dark:hover:bg-slate-700"}`,children:[s.jsx("h3",{className:`font-bold text-center mb-2 ${u?"text-brand-primary":"text-text-primary dark:text-slate-200"}`,children:kl[m]}),s.jsxs("div",{className:"grid grid-cols-7 gap-y-1 text-text-secondary dark:text-slate-400",children:[Bs.map(y=>s.jsx("div",{className:"text-center text-[10px] font-medium",children:y[0]},y)),g]})]})},Vf=({currentDate:d,onDateSelect:m})=>{const u=d.getFullYear(),b=d.getMonth(),k=new Date;return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:kl.map((w,N)=>s.jsx(Wf,{year:u,month:N,isSelected:N===b,today:k,onSelect:()=>m(new Date(u,N,1))},N))})},Hf=(d,m)=>{const u=kl[m.getMonth()],b=m.getFullYear();switch(d){case"year":return`${b}`;case"month":return`${u} ${b}`;case"week":const k=new Date(m);k.setDate(m.getDate()-m.getDay());const w=new Date(k);return w.setDate(k.getDate()+6),k.getMonth()===w.getMonth()?`${u} ${k.getDate()} - ${w.getDate()}, ${b}`:`${kl[k.getMonth()]} ${k.getDate()} - ${kl[w.getMonth()]} ${w.getDate()}, ${b}`;case"day":return`${u} ${m.getDate()}, ${b}`}},Qf=({lessons:d,students:m,instructors:u,currentDate:b,view:k,setView:w,onNavigate:N,onEditLesson:g,onAddLesson:y,onDateSelect:O,onUpdateLessonPosition:S,onLessonDragStart:L})=>{const V=()=>{const B={lessons:d,students:m,instructors:u,currentDate:b,onEditLesson:g,onUpdateLessonPosition:S,onLessonDragStart:L};switch(k){case"year":return s.jsx(Vf,{currentDate:b,onDateSelect:O});case"month":return s.jsx($f,{...B,onAddLesson:y});case"week":return s.jsx(Bf,{...B,onAddLesson:y});case"day":return s.jsx(Uf,{...B,onAddLesson:y});default:return null}},se=({label:B,value:I})=>s.jsx("button",{onClick:()=>w(I),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${k===I?"bg-brand-primary text-text-on-color":"bg-surface-input dark:bg-slate-700 hover:bg-surface-hover dark:hover:bg-slate-600 text-text-primary dark:text-slate-200"}`,children:B});return s.jsxs(ht,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",onClick:B=>B.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between w-full md:w-auto items-center",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-text-primary dark:text-slate-100 order-1",children:Hf(k,b)}),s.jsxs("div",{className:"flex items-center order-2 md:order-3 md:ml-4",children:[s.jsx("button",{onClick:()=>N("prev"),className:"p-2 rounded-md hover:bg-surface-hover dark:hover:bg-slate-700 transition-colors","aria-label":"Previous",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("button",{onClick:()=>N("next"),className:"p-2 rounded-md hover:bg-surface-hover dark:hover:bg-slate-700 transition-colors","aria-label":"Next",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),s.jsx("div",{className:"flex items-center space-x-2 order-3 md:order-2 w-full md:w-auto justify-center",children:s.jsxs("div",{className:"flex flex-grow justify-center space-x-1 bg-surface-header dark:bg-slate-900 p-1 rounded-lg",children:[s.jsx(se,{label:"Year",value:"year"}),s.jsx(se,{label:"Month",value:"month"}),s.jsx(se,{label:"Week",value:"week"}),s.jsx(se,{label:"Day",value:"day"})]})})]}),s.jsx("div",{children:V()})]})},Yf=()=>{const{activeLessons:d,students:m,instructors:u,currentDate:b,calendarView:k,setCalendarView:w,handleNavigate:N,handleOpenEditModal:g,handleOpenAddModal:y,handleDateSelect:O,handleUpdateLessonPosition:S,handleLessonDragStart:L}=nr();return s.jsx(Qf,{lessons:d,students:m,instructors:u,currentDate:b,view:k,setView:w,onNavigate:N,onEditLesson:g,onAddLesson:y,onDateSelect:O,onUpdateLessonPosition:S,onLessonDragStart:L})},Kf=({instructors:d,onRequestEnrollment:m,successMessage:u})=>{const[b,k]=E.useState(""),[w,N]=E.useState(""),[g,y]=E.useState(d.length>0?d[0].id:""),[O,S]=E.useState(""),[L,V]=E.useState(""),[se,B]=E.useState(""),[I,D]=E.useState(""),[fe,ve]=E.useState(""),[ee,de]=E.useState(null),P=O!==""&&parseInt(O,10)<18;E.useEffect(()=>{u&&(k(""),N(""),y(d.length>0?d[0].id:""),S(""),V(""),B(""),D(""),ve(""))},[u,d]);const Q=U=>{if(U.preventDefault(),de(null),!b.trim()||!w.trim()||!g||!O.trim()||!L||!se.trim()||!I.trim()){de("Please fill out all required fields.");return}if(P&&!fe.trim()){de("Guardian's name is required for students under 18.");return}m({name:b,instrument:w,instructorId:g,age:parseInt(O,10),gender:L,email:se,contactNumber:I,guardianName:P?fe:void 0})},te="w-full bg-surface-input dark:bg-slate-700 border-surface-border dark:border-slate-600 rounded-md p-2 text-text-primary dark:text-slate-100 focus:ring-brand-primary dark:focus:ring-brand-secondary focus:border-brand-primary dark:focus:border-brand-secondary",j="block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1";return s.jsx(ht,{className:"max-w-3xl mx-auto",children:s.jsxs("form",{onSubmit:Q,children:[s.jsxs("div",{className:"p-6 sm:p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-brand-secondary-deep-dark dark:text-brand-secondary mb-2",children:"New Student Enrollment"}),s.jsx("p",{className:"text-text-secondary dark:text-slate-400 mb-6",children:"Fill out the form below to register a new student in the system."}),ee&&s.jsx("div",{className:"bg-status-red-light dark:bg-status-red/20 border border-status-red/20 text-status-red px-4 py-3 rounded-md mb-4 font-medium",role:"alert",children:ee}),u&&s.jsx("div",{className:"bg-status-green-light dark:bg-status-green/20 border border-status-green/20 text-status-green px-4 py-3 rounded-md mb-4 font-medium",role:"alert",children:u}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("fieldset",{className:"space-y-4 p-4 border border-surface-border dark:border-slate-700 rounded-md",children:[s.jsx("legend",{className:"text-lg font-semibold text-text-primary dark:text-slate-200 px-2",children:"Student Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"studentName",className:j,children:"Student Full Name"}),s.jsx("input",{type:"text",id:"studentName",value:b,onChange:U=>k(U.target.value),className:te,placeholder:"e.g., John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"age",className:j,children:"Age"}),s.jsx("input",{type:"number",id:"age",value:O,onChange:U=>S(U.target.value),className:te,placeholder:"e.g., 14",min:"1",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gender",className:j,children:"Gender"}),s.jsxs("select",{id:"gender",value:L,onChange:U=>V(U.target.value),className:te,required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Select gender..."}),s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"})]})]})]}),s.jsxs("fieldset",{className:"space-y-4 p-4 border border-surface-border dark:border-slate-700 rounded-md",children:[s.jsx("legend",{className:"text-lg font-semibold text-text-primary dark:text-slate-200 px-2",children:"Contact Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"email",className:j,children:"Email Address"}),s.jsx("input",{type:"email",id:"email",value:se,onChange:U=>B(U.target.value),className:te,placeholder:"e.g., jane.doe@example.com",required:!0})]}),P&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"guardianName",className:j,children:"Guardian's Name"}),s.jsx("input",{type:"text",id:"guardianName",value:fe,onChange:U=>ve(U.target.value),className:te,placeholder:"e.g., Jane Doe",required:P})]}),s.jsxs("div",{className:P?"":"md:col-span-2",children:[s.jsx("label",{htmlFor:"contactNumber",className:j,children:P?"Guardian's Contact Number":"Student's Contact Number"}),s.jsx("input",{type:"tel",id:"contactNumber",value:I,onChange:U=>D(U.target.value),className:te,placeholder:"e.g., (555) 123-4567",required:!0})]})]})]}),s.jsxs("fieldset",{className:"space-y-4 p-4 border border-surface-border dark:border-slate-700 rounded-md",children:[s.jsx("legend",{className:"text-lg font-semibold text-text-primary dark:text-slate-200 px-2",children:"Lesson Assignment"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"instrument",className:j,children:"Instrument"}),s.jsx("input",{type:"text",id:"instrument",value:w,onChange:U=>N(U.target.value),className:te,placeholder:"e.g., Guitar",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"instructorId",className:j,children:"Assign Instructor"}),s.jsx("select",{id:"instructorId",value:g,onChange:U=>y(U.target.value),className:te,required:!0,children:d.length>0?d.map(U=>s.jsxs("option",{value:U.id,children:[U.name," (",U.specialty,")"]},U.id)):s.jsx("option",{disabled:!0,children:"No instructors available"})})]})]})]})]})]}),s.jsx("div",{className:"bg-surface-header dark:bg-slate-700/50 p-4 flex justify-end rounded-b-lg border-t border-surface-border dark:border-slate-700",children:s.jsx("button",{type:"submit",className:"px-6 py-2 rounded-md font-semibold text-text-on-color bg-brand-primary hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",disabled:d.length===0,children:"Enroll Student"})})]})})},Gf=()=>{const{activeInstructors:d,handleRequestEnrollment:m,enrollmentSuccessMessage:u}=nr();return s.jsx(Kf,{instructors:d,onRequestEnrollment:m,successMessage:u})},Xf=({instructor:d,allLessons:m,allStudents:u,onMarkAttendance:b})=>{const k=E.useMemo(()=>new Map(u.map(N=>[N.id,N])),[u]),w=E.useMemo(()=>{const N=Dt(new Date);return m.filter(g=>g.instructorId===d.id&&g.date===N).sort((g,y)=>g.time.localeCompare(y.time))},[m,d.id]);return s.jsxs("div",{className:"bg-surface-header dark:bg-slate-900/50 p-4",children:[s.jsxs("h4",{className:"text-md font-semibold text-text-primary dark:text-slate-200 mb-3",children:["Today's Schedule for ",d.name]}),w.length>0?s.jsx("ul",{className:"space-y-2",children:w.map(N=>{const g=k.get(N.studentId);if(!g)return null;const y=Date.now(),O=1440*60*1e3,S=g.lastAttendanceMarkedAt&&y-g.lastAttendanceMarkedAt<O;return s.jsxs("li",{className:"flex items-center justify-between p-3 bg-surface-card dark:bg-slate-800 rounded-md border border-surface-border dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-mono text-sm text-text-secondary dark:text-slate-400",children:N.time}),s.jsx("span",{className:"font-semibold text-text-primary dark:text-slate-100",children:g.name}),s.jsx("span",{className:"text-xs text-text-secondary dark:text-slate-400",children:g.instrument})]}),s.jsxs("button",{onClick:()=>b(g.id),disabled:S||g.status==="inactive",className:`flex items-center justify-center space-x-1.5 w-28 px-3 py-1.5 rounded-md font-semibold text-xs transition-colors ${S?"bg-status-green-light dark:bg-status-green/20 text-status-green cursor-not-allowed":"bg-brand-primary-light dark:bg-brand-primary/20 text-text-primary dark:text-brand-primary hover:bg-black/5 dark:hover:bg-brand-primary/30 disabled:bg-surface-input dark:disabled:bg-slate-700 disabled:text-text-tertiary dark:disabled:text-slate-500 disabled:cursor-not-allowed"}`,children:[Je.check,s.jsx("span",{children:S?"Done":"Confirm"})]})]},N.id)})}):s.jsx("p",{className:"text-sm text-text-secondary dark:text-slate-400 text-center py-4",children:"No lessons scheduled for today."})]})},qf=d=>{const m=d.split(" ");return m.length===1?m[0].charAt(0).toUpperCase():(m[0].charAt(0)+m[m.length-1].charAt(0)).toUpperCase()},Zf=({instructor:d})=>{if(d.profilePictureUrl)return s.jsx("img",{src:d.profilePictureUrl,alt:d.name,className:"h-9 w-9 rounded-full object-cover shrink-0"});const m=qf(d.name);return s.jsx("div",{className:"h-9 w-9 rounded-full flex items-center justify-center shrink-0 text-text-primary dark:text-slate-800",style:{backgroundColor:d.color,border:"1px solid rgba(0,0,0,0.1)"},title:d.name,children:s.jsx("span",{className:"text-xs font-bold",children:m})})},Jf=({instructors:d,students:m,lessons:u,onMarkAttendance:b,onEditInstructor:k,onAddInstructor:w,onToggleInstructorStatus:N})=>{const[g,y]=E.useState(null),O=S=>{y(L=>L===S?null:S)};return s.jsxs(ht,{children:[s.jsxs("div",{className:"p-4 sm:p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-brand-secondary-deep-dark dark:text-brand-secondary",children:"Instructor Roster"}),s.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 rounded-md font-semibold text-sm text-text-on-color bg-brand-primary hover:opacity-90 transition-opacity",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),s.jsx("span",{children:"Add Instructor"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-surface-border dark:divide-slate-700",children:[s.jsx("thead",{className:"bg-surface-table-header dark:bg-slate-700 hidden md:table-header-group",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Instructor"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Specialty"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-surface-card dark:bg-slate-800 divide-y divide-surface-border dark:divide-slate-700",children:[...d].sort((S,L)=>S.name.localeCompare(L.name)).map(S=>{const L=g===S.id;return s.jsxs(zn.Fragment,{children:[s.jsxs("tr",{className:`block md:table-row hover:bg-surface-hover dark:hover:bg-slate-700/50 transition-all duration-300 ${S.status==="inactive"?"opacity-60":""}`,children:[s.jsx("td",{className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap block md:table-cell",children:s.jsxs("button",{onClick:()=>O(S.id),className:"flex items-center w-full text-left group",children:[s.jsx(Zf,{instructor:S}),s.jsx("div",{className:"ml-4 text-sm font-medium text-text-primary dark:text-slate-100 group-hover:text-brand-primary transition-colors",children:S.name}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-auto text-text-tertiary dark:text-slate-500 transition-transform transform ${L?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),s.jsx("td",{"data-label":"Specialty",className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap block md:table-cell text-right md:text-left before:content-[attr(data-label)':'] before:font-bold before:text-text-secondary before:dark:text-slate-400 before:mr-2 md:before:content-none before:float-left text-text-primary dark:text-slate-100",children:s.jsx("div",{className:"text-sm text-text-secondary dark:text-slate-300",children:S.specialty})}),s.jsx("td",{"data-label":"Status",className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap block md:table-cell text-right md:text-left before:content-[attr(data-label)':'] before:font-bold before:text-text-secondary before:dark:text-slate-400 before:mr-2 md:before:content-none before:float-left text-text-primary dark:text-slate-100",children:s.jsx("span",{className:`px-2 inline-flex items-center text-xs leading-5 font-semibold rounded-full capitalize ${S.status==="active"?"bg-status-green-light dark:bg-status-green/20 text-status-green":"bg-surface-input dark:bg-slate-700 text-text-secondary dark:text-slate-400"}`,children:S.status})}),s.jsx("td",{className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap text-right text-sm font-medium block md:table-cell",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>k(S),className:"p-2 rounded-md text-text-secondary dark:text-slate-400 hover:bg-surface-hover dark:hover:bg-slate-700 hover:text-text-primary dark:hover:text-slate-200 transition-colors","aria-label":`Edit ${S.name}`,children:Je.edit}),s.jsx("button",{onClick:()=>N(S.id),className:`w-24 text-center px-3 py-1 rounded-md transition-colors font-semibold text-xs ${S.status==="active"?"bg-status-yellow-light dark:bg-status-yellow/20 text-text-primary dark:text-status-yellow hover:bg-black/5 dark:hover:bg-status-yellow/30":"bg-status-green-light dark:bg-status-green/20 text-text-primary dark:text-status-green hover:bg-black/5 dark:hover:bg-status-green/30"}`,children:S.status==="active"?"Deactivate":"Activate"})]})})]}),L&&s.jsx("tr",{className:"block md:table-row",children:s.jsx("td",{colSpan:4,className:"p-0 block md:table-cell",children:s.jsx(Xf,{instructor:S,allLessons:u,allStudents:m,onMarkAttendance:b})})})]},S.id)})})]})})]})},ep=()=>{const{instructors:d,students:m,activeLessons:u,handleMarkAttendance:b,handleOpenEditInstructorModal:k,handleRequestAdminAction:w,handleToggleInstructorStatus:N}=nr();return s.jsx(Jf,{instructors:d,students:m,lessons:u,onMarkAttendance:b,onEditInstructor:k,onAddInstructor:()=>w({type:"addInstructor"}),onToggleInstructorStatus:N})},tp=d=>{const m=d.split(" ");return m.length===1?m[0].charAt(0).toUpperCase():(m[0].charAt(0)+m[m.length-1].charAt(0)).toUpperCase()},np=({student:d,size:m})=>{const u=m==="lg"?"h-20 w-20":"h-9 w-9";if(d.profilePictureUrl)return s.jsx("img",{src:d.profilePictureUrl,alt:d.name,className:`${u} rounded-full object-cover shrink-0 border-4 border-white dark:border-slate-800 shadow-md`});const b=tp(d.name),k=(d.name.charCodeAt(0)||0)%6,w=["bg-red-200","bg-blue-200","bg-green-200","bg-yellow-200","bg-purple-200","bg-pink-200"],N=["text-red-800","text-blue-800","text-green-800","text-yellow-800","text-purple-800","text-pink-800"];return s.jsx("div",{className:`${u} rounded-full flex items-center justify-center shrink-0 border-4 border-white dark:border-slate-800 shadow-md ${w[k]} ${N[k]}`,children:s.jsx("span",{className:`font-bold ${m==="lg"?"text-3xl":"text-xs"}`,children:b})})},yl=({label:d,value:m})=>!m&&m!==0?null:s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold text-text-primary dark:text-slate-200",children:[d,":"]}),s.jsx("span",{className:"ml-2 text-text-secondary dark:text-slate-400 break-words",children:m})]}),rp=({student:d,lessons:m,billings:u,instructors:b})=>{const k=new Map(b.map(w=>[w.id,w]));return s.jsxs("div",{className:"bg-surface-header dark:bg-slate-900/50 p-4 md:p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(ht,{className:"p-4 md:col-span-2 lg:col-span-1 flex flex-col items-center text-center",children:[s.jsx("div",{className:"-mt-12 mb-3",children:s.jsx(np,{student:d,size:"lg"})}),s.jsx("h3",{className:"text-lg font-bold text-text-primary dark:text-slate-100",children:d.name}),s.jsxs("p",{className:"text-sm text-text-secondary dark:text-slate-400 mb-1",children:["ID: ",d.studentIdNumber]}),s.jsx("p",{className:"text-sm text-text-secondary dark:text-slate-400 mb-4",children:d.instrument}),s.jsxs("div",{className:"space-y-2.5 text-sm text-left w-full border-t border-surface-border dark:border-slate-700 pt-4",children:[s.jsx(yl,{label:"Gender",value:d.gender}),s.jsx(yl,{label:"Age",value:d.age}),s.jsx(yl,{label:"Email",value:d.email}),s.jsx(yl,{label:"Contact",value:d.contactNumber}),d.guardianName&&s.jsx("div",{className:"pt-2.5 mt-2.5 border-t border-surface-border dark:border-slate-700",children:s.jsx(yl,{label:"Guardian",value:d.guardianName})})]})]}),s.jsxs(ht,{className:"p-4",children:[s.jsx("h3",{className:"text-base font-semibold text-text-primary dark:text-slate-100 mb-3",children:"Scheduled Lessons"}),m.length>0?s.jsx("ul",{className:"space-y-2",children:m.sort((w,N)=>new Date(w.date).getTime()-new Date(N.date).getTime()).map(w=>{const N=k.get(w.instructorId),g=new Date(w.date.replace(/-/g,"/"));return s.jsxs("li",{className:"p-3 bg-surface-main dark:bg-slate-700/50 rounded-md border border-surface-border dark:border-slate-700",children:[s.jsxs("p",{className:"text-sm font-semibold text-text-primary dark:text-slate-200",children:[g.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})," at ",w.time]}),s.jsxs("p",{className:"text-xs text-text-secondary dark:text-slate-400",children:["Instructor: ",(N==null?void 0:N.name)||"N/A"]}),w.notes&&s.jsxs("p",{className:"text-xs text-text-secondary dark:text-slate-400 mt-1 pt-1 border-t border-surface-border dark:border-slate-600",children:[s.jsx("span",{className:"font-medium",children:"Note:"})," ",w.notes]})]},w.id)})}):s.jsx("p",{className:"text-sm text-text-secondary dark:text-slate-400",children:"No sessions scheduled."})]}),s.jsxs(ht,{className:"p-4",children:[s.jsx("h3",{className:"text-base font-semibold text-text-primary dark:text-slate-100 mb-3",children:"Payment History"}),u.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-surface-border dark:border-slate-700",children:[s.jsx("th",{className:"pb-2 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"pb-2 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"pb-2 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{children:u.sort((w,N)=>new Date(N.dateIssued).getTime()-new Date(w.dateIssued).getTime()).map(w=>s.jsxs("tr",{className:"border-b border-surface-border dark:border-slate-700 last:border-b-0",children:[s.jsx("td",{className:"py-2 text-sm text-text-secondary dark:text-slate-400",children:new Date(w.dateIssued).toLocaleDateString()}),s.jsxs("td",{className:"py-2 text-sm text-text-secondary dark:text-slate-400",children:["$",w.amount.toFixed(2)]}),s.jsx("td",{className:"py-2 text-sm",children:s.jsx("span",{className:`px-2 py-0.5 inline-flex items-center text-xs leading-5 font-semibold rounded-full ${w.status==="paid"?"bg-status-green-light dark:bg-status-green/20 text-status-green":"bg-status-yellow-light dark:bg-status-yellow/20 text-status-yellow"}`,children:s.jsx("span",{className:"capitalize",children:w.status})})})]},w.id))})]})}):s.jsx("p",{className:"text-sm text-text-secondary dark:text-slate-400",children:"No billing history found."})]})]})},lp=d=>{const m=d.split(" ");return m.length===1?m[0].charAt(0).toUpperCase():(m[0].charAt(0)+m[m.length-1].charAt(0)).toUpperCase()},sp=({student:d})=>{if(d.profilePictureUrl)return s.jsx("img",{src:d.profilePictureUrl,alt:d.name,className:"h-9 w-9 rounded-full object-cover shrink-0"});const m=lp(d.name),u=(d.name.charCodeAt(0)||0)%6,b=["bg-red-200","bg-blue-200","bg-green-200","bg-yellow-200","bg-purple-200","bg-pink-200"],k=["text-red-800","text-blue-800","text-green-800","text-yellow-800","text-purple-800","text-pink-800"];return s.jsx("div",{className:`h-9 w-9 rounded-full flex items-center justify-center shrink-0 ${b[u]} ${k[u]}`,children:s.jsx("span",{className:"text-xs font-bold",children:m})})},ap=({students:d,instructors:m,lessons:u,billings:b,onMarkAttendance:k,onToggleStatus:w,onEditSessions:N})=>{const g=E.useMemo(()=>new Map(m.map(B=>[B.id,B])),[m]),[y,O]=E.useState(null),[S,L]=E.useState(""),V=B=>{O(I=>I===B?null:B)},se=E.useMemo(()=>S.trim()?d.filter(B=>B.name.toLowerCase().includes(S.toLowerCase())):d,[d,S]);return s.jsxs(ht,{children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-brand-secondary-deep-dark dark:text-brand-secondary mb-4",children:"Student Roster"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"student-search",className:"sr-only",children:"Search Students"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-text-tertiary dark:text-slate-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),s.jsx("input",{type:"text",name:"student-search",id:"student-search",className:"block w-full pl-10 pr-3 py-2 border border-surface-border dark:border-slate-600 rounded-md leading-5 bg-surface-input dark:bg-slate-700 text-text-primary dark:text-slate-100 placeholder-text-secondary dark:placeholder-slate-400 focus:outline-none focus:placeholder-text-tertiary dark:focus:placeholder-slate-300 focus:ring-1 focus:ring-brand-primary dark:focus:ring-brand-secondary focus:border-brand-primary dark:focus:border-brand-secondary sm:text-sm",placeholder:"Search by student name...",value:S,onChange:B=>L(B.target.value)})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-surface-border dark:divide-slate-700 md:table",children:[s.jsx("thead",{className:"bg-surface-table-header dark:bg-slate-700 hidden md:table-header-group",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Name"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Instrument"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Instructor"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Session Progress"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-surface-card dark:bg-slate-800 divide-y divide-surface-border dark:divide-slate-700 md:divide-y-0",children:[...se].sort((B,I)=>B.name.localeCompare(I.name)).map(B=>{const I=g.get(B.instructorId||""),D=y===B.id,fe=Date.now(),ve=1440*60*1e3,ee=B.lastAttendanceMarkedAt&&fe-B.lastAttendanceMarkedAt<ve,de=B.sessionsAttended-B.sessionsBilled;let P=de%Gt;P===0&&de>0&&(P=Gt);const Q=Math.min(P/Gt*100,100);return s.jsxs(zn.Fragment,{children:[s.jsxs("tr",{className:"block md:table-row hover:bg-surface-hover dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap block md:table-cell",children:s.jsxs("button",{onClick:()=>V(B.id),className:"flex items-center w-full text-left group",children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx(sp,{student:B}),B.status==="active"?s.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 block h-2.5 w-2.5 rounded-full bg-status-green ring-2 ring-white dark:ring-slate-800",title:"Active student"}):s.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 block h-2.5 w-2.5 rounded-full bg-text-tertiary dark:bg-slate-500 ring-2 ring-white dark:ring-slate-800",title:"Inactive student"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-text-primary dark:text-slate-100 group-hover:text-brand-primary dark:group-hover:text-brand-primary transition-colors",children:B.name}),s.jsxs("div",{className:"text-xs text-text-tertiary dark:text-slate-500",children:["ID: ",B.studentIdNumber]})]}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-auto text-text-tertiary dark:text-slate-500 transition-transform transform ${D?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),s.jsx("td",{"data-label":"Instrument",className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap block md:table-cell text-right md:text-left before:content-[attr(data-label)':'] before:font-bold before:text-text-secondary before:dark:text-slate-400 before:mr-2 md:before:content-none before:float-left text-text-primary dark:text-slate-100",children:s.jsx("div",{className:"text-sm text-text-secondary dark:text-slate-300",children:B.instrument})}),s.jsx("td",{"data-label":"Instructor",className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap block md:table-cell text-right md:text-left before:content-[attr(data-label)':'] before:font-bold before:text-text-secondary before:dark:text-slate-400 before:mr-2 md:before:content-none before:float-left text-text-primary dark:text-slate-100",children:I?s.jsxs("div",{className:"flex items-center justify-end md:justify-start",children:[s.jsx("span",{className:"h-4 w-4 rounded-full mr-2.5 border border-black/10 dark:border-white/10",style:{backgroundColor:I.color},title:`Color code for ${I.name}`}),s.jsx("div",{className:"text-sm text-text-secondary dark:text-slate-300",children:I.name})]}):s.jsx("div",{className:"text-sm text-text-tertiary dark:text-slate-500",children:"Unassigned"})}),s.jsx("td",{"data-label":"Progress",className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap block md:table-cell before:content-[attr(data-label)':'] before:font-bold before:text-text-secondary before:dark:text-slate-400 md:before:content-none before:float-left before:pt-5 text-text-primary dark:text-slate-100",children:s.jsx("button",{onClick:()=>N(B),className:"w-full text-left p-1 rounded-md hover:bg-black/5 dark:hover:bg-white/5 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 focus:ring-brand-primary dark:focus:ring-brand-secondary transition-all duration-150 group","aria-label":`Edit session count for ${B.name}. Current total: ${B.sessionsAttended}.`,children:s.jsxs("div",{className:"flex items-center space-x-4 justify-end md:justify-start",children:[s.jsx("div",{className:`w-10 h-10 flex-shrink-0 flex items-center justify-center text-base font-bold rounded-full transition-colors ${de>0?"bg-brand-primary-light dark:bg-brand-primary/20 text-text-primary dark:text-brand-primary":"bg-surface-input dark:bg-slate-700 text-text-secondary dark:text-slate-400"}`,title:`Unpaid sessions: ${de}`,children:de}),s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"w-full bg-surface-input dark:bg-slate-700 rounded-full h-2.5",title:`${P} out of ${Gt} sessions in this cycle`,children:s.jsx("div",{className:`h-2.5 rounded-full transition-all duration-500 ${de>=Gt?"bg-status-yellow":"bg-brand-primary"}`,style:{width:`${Q}%`}})})})]})})}),s.jsx("td",{className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap text-right text-sm font-medium block md:table-cell",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx("button",{onClick:()=>w(B.id),className:`w-24 text-center px-3 py-1 rounded-md transition-colors font-semibold text-xs ${B.status==="active"?"bg-status-yellow-light dark:bg-status-yellow/20 text-text-primary dark:text-status-yellow hover:bg-black/5 dark:hover:bg-status-yellow/30":"bg-status-green-light dark:bg-status-green/20 text-text-primary dark:text-status-green hover:bg-black/5 dark:hover:bg-status-green/30"}`,children:B.status==="active"?"Deactivate":"Activate"}),s.jsxs("button",{onClick:()=>k(B.id),disabled:ee||B.status==="inactive",className:`flex items-center justify-center space-x-1.5 px-3 py-1 rounded-md font-semibold text-xs transition-colors ${ee?"bg-surface-input dark:bg-slate-700 text-text-tertiary dark:text-slate-500 cursor-not-allowed":"bg-brand-primary-light dark:bg-brand-primary/20 text-text-primary dark:text-brand-primary hover:bg-black/5 dark:hover:bg-brand-primary/30 disabled:bg-surface-input dark:disabled:bg-slate-700 disabled:text-text-tertiary dark:disabled:text-slate-500 disabled:cursor-not-allowed"}`,children:[Je.check,s.jsx("span",{children:ee?"Attended":"Attend"})]})]})})]}),D&&s.jsx("tr",{className:"block md:table-row",children:s.jsx("td",{colSpan:5,className:"p-0 block md:table-cell",children:s.jsx(rp,{student:B,lessons:u.filter(te=>te.studentId===B.id),billings:b.filter(te=>te.studentId===B.id),instructors:m})})})]},B.id)})})]})})]})},op=()=>{const{students:d,instructors:m,activeLessons:u,billings:b,handleMarkAttendance:k,handleToggleStudentStatus:w,handleOpenEditSessionModal:N}=nr();return s.jsx(ap,{students:d,instructors:m,lessons:u,billings:b,onMarkAttendance:k,onToggleStatus:w,onEditSessions:N})},ip=d=>{const m=d.split(" ");return m.length===1?m[0].charAt(0).toUpperCase():(m[0].charAt(0)+m[m.length-1].charAt(0)).toUpperCase()},up=({student:d})=>{if(!d)return null;if(d.profilePictureUrl)return s.jsx("img",{src:d.profilePictureUrl,alt:d.name,className:"h-9 w-9 rounded-full object-cover shrink-0"});const m=ip(d.name),u=(d.name.charCodeAt(0)||0)%6,b=["bg-red-200","bg-blue-200","bg-green-200","bg-yellow-200","bg-purple-200","bg-pink-200"],k=["text-red-800","text-blue-800","text-green-800","text-yellow-800","text-purple-800","text-pink-800"];return s.jsx("div",{className:`h-9 w-9 rounded-full flex items-center justify-center shrink-0 ${b[u]} ${k[u]}`,children:s.jsx("span",{className:"text-xs font-bold",children:m})})},dp=({billings:d,students:m,onMarkAsPaid:u})=>{const b=E.useMemo(()=>new Map(m.map(g=>[g.id,g])),[m]),k=d.filter(g=>g.status==="unpaid").sort((g,y)=>new Date(y.dateIssued).getTime()-new Date(g.dateIssued).getTime()),w=d.filter(g=>g.status==="paid").sort((g,y)=>new Date(y.dateIssued).getTime()-new Date(g.dateIssued).getTime()),N=g=>{const y=b.get(g.studentId);return s.jsxs("tr",{className:"block md:table-row hover:bg-surface-hover dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap block md:table-cell",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(up,{student:y}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-text-primary dark:text-slate-100",children:g.studentName}),s.jsxs("div",{className:"text-xs text-text-tertiary dark:text-slate-500",children:["ID: ",g.id]})]})]})}),s.jsxs("td",{"data-label":"Amount",className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap text-sm text-text-secondary dark:text-slate-300 block md:table-cell text-right md:text-left before:content-[attr(data-label)':'] before:font-bold before:text-text-secondary before:dark:text-slate-400 before:mr-2 md:before:content-none before:float-left",children:["$",g.amount.toFixed(2)]}),s.jsx("td",{"data-label":"Date Issued",className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap text-sm text-text-secondary dark:text-slate-300 block md:table-cell text-right md:text-left before:content-[attr(data-label)':'] before:font-bold before:text-text-secondary before:dark:text-slate-400 before:mr-2 md:before:content-none before:float-left",children:new Date(g.dateIssued).toLocaleDateString()}),s.jsx("td",{"data-label":"Status",className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap block md:table-cell text-right md:text-left before:content-[attr(data-label)':'] before:font-bold before:text-text-secondary before:dark:text-slate-400 before:mr-2 md:before:content-none before:float-left",children:s.jsxs("span",{className:`px-2 inline-flex items-center text-xs leading-5 font-semibold rounded-full ${g.status==="paid"?"bg-status-green-light dark:bg-status-green/20 text-status-green":"bg-status-yellow-light dark:bg-status-yellow/20 text-status-yellow"}`,children:[g.status==="paid"?Je.paid:Je.unpaid,s.jsx("span",{className:"ml-1 capitalize",children:g.status})]})}),s.jsx("td",{className:"px-4 py-3 md:px-6 md:py-4 whitespace-nowrap text-right text-sm font-medium block md:table-cell",children:g.status==="unpaid"&&s.jsxs("button",{onClick:()=>u(g.id),className:"flex items-center space-x-2 text-status-green bg-status-green-light dark:bg-status-green/20 hover:bg-status-green/20 dark:hover:bg-status-green/30 font-semibold px-3 py-1 rounded-md transition-colors",children:[Je.check,s.jsx("span",{children:"Mark Paid"})]})})]},g.id)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(ht,{children:[s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx("h2",{className:"text-2xl font-bold text-brand-secondary-deep-dark dark:text-brand-secondary mb-4",children:"Pending Invoices"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-surface-border dark:divide-slate-700",children:[s.jsx("thead",{className:"bg-surface-table-header dark:bg-slate-700 hidden md:table-header-group",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Student"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Date Issued"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Action"})})]})}),s.jsx("tbody",{className:"bg-surface-card dark:bg-slate-800 divide-y divide-surface-border dark:divide-slate-700",children:k.length>0?k.map(N):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-8 text-text-secondary dark:text-slate-400",children:"No pending invoices."})})})]})})]}),s.jsxs(ht,{children:[s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx("h2",{className:"text-2xl font-bold text-brand-secondary-deep-dark dark:text-brand-secondary mb-4",children:"Payment History"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-surface-border dark:divide-slate-700",children:[s.jsx("thead",{className:"bg-surface-table-header dark:bg-slate-700 hidden md:table-header-group",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Student"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Date Issued"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary dark:text-slate-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Action"})})]})}),s.jsx("tbody",{className:"bg-surface-card dark:bg-slate-800 divide-y divide-surface-border dark:divide-slate-700",children:w.length>0?w.map(N):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-8 text-text-secondary dark:text-slate-400",children:"No paid invoices yet."})})})]})})]})]})},cp=()=>{const{students:d,billings:m,handleMarkAsPaid:u}=nr();return s.jsx(dp,{students:d,billings:m,onMarkAsPaid:u})},fp=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 2a1 1 0 00-1 1v1a1 1 0 002 0V3a1 1 0 00-1-1z"}),s.jsx("path",{d:"M4 5v2a1 1 0 001 1h1a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1zm8 0v2a1 1 0 001 1h1a1 1 0 001-1V5a1 1 0 00-1-1h-1a1 1 0 00-1 1z"}),s.jsx("path",{fillRule:"evenodd",d:"M18 8H2c-.552 0-1-.448-1-1V5c0-1.105.895-2 2-2h14c1.105 0 2 .895 2 2v2c0 .552-.448 1-1 1zM2 10.5a1.5 1.5 0 01.5-2.915V6a1 1 0 112 0v1.585A1.5 1.5 0 012 10.5zm16 0a1.5 1.5 0 01-2.5-1.085V6a1 1 0 112 0v3.415A1.5 1.5 0 0118 10.5z",clipRule:"evenodd"}),s.jsx("path",{d:"M10 12a4 4 0 00-3.465 6.002A2 2 0 008.382 19h3.236a2 2 0 001.847-1.002A4 4 0 0010 12zm-2.75 4.5a.75.75 0 000 1.5h5.5a.75.75 0 000-1.5h-5.5z"})]}),pp=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}),s.jsx("path",{d:"M14.472 4.528a.75.75 0 00-1.06-1.06L10 6.939 6.588 3.47a.75.75 0 00-1.061 1.06L8.939 8l-3.412 3.47a.75.75 0 001.06 1.06L10 9.061l3.412 3.47a.75.75 0 001.06-1.06L11.061 8l3.41-3.472z"})]}),mp=({deletedLessons:d,students:m,instructors:u,onRestore:b,onDeletePermanently:k})=>{const w=E.useMemo(()=>new Map(m.map(g=>[g.id,g])),[m]),N=E.useMemo(()=>new Map(u.map(g=>[g.id,g])),[u]);return s.jsxs(ht,{children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary dark:text-slate-100 mb-4",children:"Trash"}),s.jsx("p",{className:"text-sm text-text-secondary dark:text-slate-400",children:"Deleted lessons are stored here. You can restore them to the calendar or delete them permanently."})]}),s.jsx("div",{className:"overflow-x-auto",children:d.length>0?s.jsx("ul",{className:"divide-y divide-surface-border dark:divide-slate-700",children:d.sort((g,y)=>g.date.localeCompare(y.date)||g.time.localeCompare(y.time)).map(g=>{const y=w.get(g.studentId),O=N.get(g.instructorId);return s.jsxs("li",{className:"p-4 flex flex-wrap items-center justify-between gap-4 hover:bg-surface-hover dark:hover:bg-slate-700/50 transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-primary dark:text-slate-100",children:(y==null?void 0:y.name)||"Unknown Student"}),s.jsxs("p",{className:"text-sm text-text-secondary dark:text-slate-400",children:[new Date(g.date.replace(/-/g,"/")).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})," at ",g.time," with ",(O==null?void 0:O.name)||"Unknown Instructor"]}),g.notes&&s.jsxs("p",{className:"text-xs text-text-tertiary dark:text-slate-500 mt-1",children:["Note: ",g.notes]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>b(g.id),className:"flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-semibold text-text-primary dark:text-brand-primary bg-brand-primary-light dark:bg-brand-primary/20 hover:bg-black/5 dark:hover:bg-brand-primary/30 transition-colors","aria-label":`Restore lesson for ${y==null?void 0:y.name}`,children:[s.jsx(fp,{}),s.jsx("span",{children:"Restore"})]}),s.jsxs("button",{onClick:()=>k(g.id),className:"flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-semibold text-status-red bg-status-red-light dark:bg-status-red/20 hover:bg-status-red/20 dark:hover:bg-status-red/30 transition-colors","aria-label":`Permanently delete lesson for ${y==null?void 0:y.name}`,children:[s.jsx(pp,{}),s.jsx("span",{children:"Delete Forever"})]})]})]},g.id)})}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"inline-block p-4 bg-surface-header dark:bg-slate-700/50 rounded-full",children:s.jsx("div",{className:"inline-block p-3 bg-surface-main dark:bg-slate-800 rounded-full",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-text-tertiary dark:text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),s.jsx("p",{className:"mt-4 text-lg font-semibold text-text-primary dark:text-slate-200",children:"The trash is empty"}),s.jsx("p",{className:"text-sm text-text-secondary dark:text-slate-400",children:"Drag lessons to the trash can on the calendar to delete them."})]})})]})},hp=()=>{const{deletedLessons:d,students:m,instructors:u,handleRequestAdminAction:b,handleRestoreLesson:k}=nr();return s.jsx(mp,{deletedLessons:d,students:m,instructors:u,onRestore:k,onDeletePermanently:w=>b({type:"deleteLessonPermanently",lessonId:w})})},xp=()=>{const{view:d,setView:m,isLoading:u,error:b,theme:k,fontSize:w,handleThemeToggle:N,handleFontSizeChange:g,handleInstallRequest:y,installPromptEvent:O,handleRequestResetData:S,isEditModalOpen:L,editingLesson:V,isAddMode:se,handleCloseEditModal:B,handleUpdateLesson:I,handleMoveLessonToTrash:D,activeInstructors:fe,students:ve,lessons:ee,timeSlots:de,isEditSessionModalOpen:P,editingStudent:Q,handleCloseEditSessionModal:te,handleUpdateStudentSessions:j,isEditInstructorModalOpen:U,editingInstructor:ce,isAddInstructorMode:q,handleCloseEditInstructorModal:$,handleSaveInstructor:Y,isAdminAuthModalOpen:X,getAdminActionDescription:ye,handleAdminAuthSuccess:oe,handleCloseAdminAuthModal:K,isDragging:_,handleDropOnTrash:H}=nr(),z=()=>{if(u)return s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsx(Df,{})});if(b)return s.jsx("div",{className:"text-center text-status-red p-8",children:b});switch(d){case"dashboard":return s.jsx(Yf,{});case"enrollment":return s.jsx(Gf,{});case"teachers":return s.jsx(ep,{});case"students":return s.jsx(op,{});case"billing":return s.jsx(cp,{});case"trash":return s.jsx(hp,{});default:return null}};return s.jsxs("div",{className:"min-h-screen bg-surface-main dark:bg-slate-900 text-text-primary dark:text-slate-200 font-sans",children:[s.jsx(Mf,{currentView:d,setView:m,theme:k,onToggleTheme:N,fontSize:w,onFontSizeChange:g,onRequestResetData:S,installPromptEvent:O,onInstallRequest:y}),s.jsx("main",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:z()}),s.jsx(If,{isOpen:L,onClose:B,onSave:I,onMoveToTrash:D,lesson:V,isAddMode:se,instructors:fe,students:ve,allLessons:ee,timeSlots:de}),s.jsx(_f,{isOpen:P,onClose:te,onSave:j,student:Q}),s.jsx(Lf,{isOpen:U,onClose:$,onSave:Y,instructor:ce,isAddMode:q}),s.jsx(Tf,{isOpen:X,onClose:K,onSuccess:oe,actionDescription:ye()||""}),s.jsx(zf,{isVisible:_,onDropLesson:H})]})},gp=()=>s.jsx(Ef,{children:s.jsx(xp,{})}),Sd=document.getElementById("root");if(!Sd)throw new Error("Could not find root element to mount to");const vp=wf.createRoot(Sd);vp.render(s.jsx(zn.StrictMode,{children:s.jsx(gp,{})}));var xd,gd;(gd=(xd=import.meta)==null?void 0:xd.env)!=null&&gd.PROD&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{if(!!!document.querySelector('link[rel="manifest"]')){const m=document.createElement("link");m.rel="manifest",m.href="/manifest.json",document.head.appendChild(m)}navigator.serviceWorker.register("/sw.js").catch(m=>{console.log("ServiceWorker registration failed: ",m)})});var vd,yd;!((yd=(vd=import.meta)==null?void 0:vd.env)!=null&&yd.PROD)&&"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(d=>{for(const m of d)m.unregister()}).catch(()=>{});
