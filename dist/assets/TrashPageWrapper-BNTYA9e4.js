import{j as e,u as t}from"./chat-CI5uTd2o.js";import{r as s}from"./ui-CcSG_NNb.js";import{C as a}from"./management-5vmWAhZ2.js";import"./vendor-DEQ385Nk.js";import"./calendar-Dp5FPTLB.js";const r=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M10 2a1 1 0 00-1 1v1a1 1 0 002 0V3a1 1 0 00-1-1z"}),e.jsx("path",{d:"M4 5v2a1 1 0 001 1h1a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1zm8 0v2a1 1 0 001 1h1a1 1 0 001-1V5a1 1 0 00-1-1h-1a1 1 0 00-1 1z"}),e.jsx("path",{fillRule:"evenodd",d:"M18 8H2c-.552 0-1-.448-1-1V5c0-1.105.895-2 2-2h14c1.105 0 2 .895 2 2v2c0 .552-.448 1-1 1zM2 10.5a1.5 1.5 0 01.5-2.915V6a1 1 0 112 0v1.585A1.5 1.5 0 012 10.5zm16 0a1.5 1.5 0 01-2.5-1.085V6a1 1 0 112 0v3.415A1.5 1.5 0 0118 10.5z",clipRule:"evenodd"}),e.jsx("path",{d:"M10 12a4 4 0 00-3.465 6.002A2 2 0 008.382 19h3.236a2 2 0 001.847-1.002A4 4 0 0010 12zm-2.75 4.5a.75.75 0 000 1.5h5.5a.75.75 0 000-1.5h-5.5z"})]}),l=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}),e.jsx("path",{d:"M14.472 4.528a.75.75 0 00-1.06-1.06L10 6.939 6.588 3.47a.75.75 0 00-1.061 1.06L8.939 8l-3.412 3.47a.75.75 0 001.06 1.06L10 9.061l3.412 3.47a.75.75 0 001.06-1.06L11.061 8l3.41-3.472z"})]}),n=({deletedLessons:t,students:n,instructors:d,onRestore:o,onDeletePermanently:i})=>{const c=s.useMemo(()=>new Map(n.map(e=>[e.id,e])),[n]),m=s.useMemo(()=>new Map(d.map(e=>[e.id,e])),[d]);return e.jsxs(a,{children:[e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary dark:text-slate-100 mb-4",children:"Trash"}),e.jsx("p",{className:"text-sm text-text-secondary dark:text-slate-400",children:"Deleted lessons are stored here. You can restore them to the calendar or delete them permanently."})]}),e.jsx("div",{className:"overflow-x-auto",children:t.length>0?e.jsx("ul",{className:"divide-y divide-surface-border dark:divide-slate-700",children:t.sort((e,t)=>e.date.localeCompare(t.date)||e.time.localeCompare(t.time)).map(t=>{const s=c.get(t.studentId),a=m.get(t.instructorId);return e.jsxs("li",{className:"p-4 flex flex-wrap items-center justify-between gap-4 hover:bg-surface-hover dark:hover:bg-slate-700/50 transition-colors",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-text-primary dark:text-slate-100",children:(null==s?void 0:s.name)||"Unknown Student"}),e.jsxs("p",{className:"text-sm text-text-secondary dark:text-slate-400",children:[new Date(t.date.replace(/-/g,"/")).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})," at ",t.time," with ",(null==a?void 0:a.name)||"Unknown Instructor"]}),t.notes&&e.jsxs("p",{className:"text-xs text-text-tertiary dark:text-slate-500 mt-1",children:["Note: ",t.notes]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>o(t.id),className:"flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-semibold text-text-primary dark:text-brand-primary bg-brand-primary-light dark:bg-brand-primary/20 hover:bg-black/5 dark:hover:bg-brand-primary/30 transition-colors","aria-label":`Restore lesson for ${null==s?void 0:s.name}`,children:[e.jsx(r,{}),e.jsx("span",{children:"Restore"})]}),e.jsxs("button",{onClick:()=>i(t.id),className:"flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-semibold text-status-red bg-status-red-light dark:bg-status-red/20 hover:bg-status-red/20 dark:hover:bg-status-red/30 transition-colors","aria-label":`Permanently delete lesson for ${null==s?void 0:s.name}`,children:[e.jsx(l,{}),e.jsx("span",{children:"Delete Forever"})]})]})]},t.id)})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"inline-block p-4 bg-surface-header dark:bg-slate-700/50 rounded-full",children:e.jsx("div",{className:"inline-block p-3 bg-surface-main dark:bg-slate-800 rounded-full",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-text-tertiary dark:text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),e.jsx("p",{className:"mt-4 text-lg font-semibold text-text-primary dark:text-slate-200",children:"The trash is empty"}),e.jsx("p",{className:"text-sm text-text-secondary dark:text-slate-400",children:"Drag lessons to the trash can on the calendar to delete them."})]})})]})},d=()=>{const{deletedLessons:s,students:a,instructors:r,handleRequestAdminAction:l,handleRestoreLesson:d}=t();return e.jsx(n,{deletedLessons:s,students:a,instructors:r,onRestore:d,onDeletePermanently:e=>l({type:"deleteLessonPermanently",lessonId:e})})};export{d as TrashPageWrapper};
