import{E as e,j as r,g as t}from"./chat-Vz45qIYd.js";import{r as s}from"./ui-CcSG_NNb.js";import{c as a}from"./management-B5-K9R_t.js";import"./vendor-DEQ385Nk.js";import"./calendar-CdK-zQpj.js";const l=({isOpen:l,onClose:o,onSave:i,instructor:n,isAddMode:d})=>{const[c,m]=s.useState(null);if(s.useEffect(()=>{m(d?{id:"",name:"",specialty:[],color:e[0],profilePictureUrl:void 0,status:"active",email:"",phone:"",bio:""}:n)},[n,d]),!l||!c)return null;const x=e=>{const{name:r,value:t}=e.target;m(e=>e?{...e,[r]:t}:null)},h=a,u=Array.isArray(c.specialty)?c.specialty:[];return r.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex justify-center items-center p-4",onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"edit-instructor-title",children:r.jsx("div",{onClick:e=>e.stopPropagation(),className:"w-full max-w-md max-h-[90vh] min-h-[60vh] flex flex-col bg-surface-card dark:bg-slate-800 border border-surface-border dark:border-slate-700 rounded-lg shadow-[0_1px_2px_rgba(16,24,40,0.06),_0_1px_3px_rgba(16,24,40,0.10)] dark:shadow-none",children:r.jsxs("form",{onSubmit:e=>{e.preventDefault(),c&&c.name.trim()&&Array.isArray(c.specialty)&&c.specialty.length>0&&i(c)},className:"flex flex-col h-full max-h-[90vh]",children:[r.jsx("div",{className:"p-6 border-b border-surface-border dark:border-slate-700 flex-shrink-0",children:r.jsx("h2",{id:"edit-instructor-title",className:"text-xl font-bold text-text-primary dark:text-slate-100",children:d?"Add New Instructor":"Edit Instructor"})}),r.jsx("div",{className:"flex-1 overflow-y-auto thin-scroll",children:r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Instructor Name *"}),r.jsx("input",{type:"text",id:"name",name:"name",value:c.name,onChange:x,className:h,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Email"}),r.jsx("input",{type:"email",id:"email",name:"email",value:c.email||"",onChange:x,className:h})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:c.phone||"",onChange:x,className:h})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-1",children:"Bio"}),r.jsx("textarea",{id:"bio",name:"bio",value:c.bio||"",onChange:x,className:h,rows:3,placeholder:"Brief description about the instructor..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-slate-300 mb-3",children:"Specialties *"}),r.jsx("div",{className:"grid grid-cols-1 gap-3 min-h-[120px]",children:t.map(e=>r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-800 transition-colors group",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",checked:u.includes(e),onChange:r=>((e,r)=>{m(t=>{if(!t)return null;const s=Array.isArray(t.specialty)?t.specialty:[],a=r?[...s,e]:s.filter(r=>r!==e);return{...t,specialty:a}})})(e,r.target.checked),className:"sr-only"}),r.jsx("div",{className:"w-5 h-5 rounded border-2 flex items-center justify-center transition-all "+(u.includes(e)?"bg-blue-500 border-blue-500 text-white":"border-gray-300 dark:border-slate-600 group-hover:border-blue-400"),children:u.includes(e)&&r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),r.jsx("span",{className:"text-sm font-medium text-text-primary dark:text-slate-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e})]},e))}),0===u.length&&r.jsxs("p",{className:"text-xs text-red-500 mt-2 flex items-center space-x-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"Please select at least one specialty"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-text-secondary dark:text-slate-400 mb-2",children:"Color"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(e=>r.jsx("button",{type:"button",onClick:()=>(e=>{m(r=>r?{...r,color:e}:null)})(e),className:"w-8 h-8 rounded-full border-2 "+(c.color===e?"border-gray-800 dark:border-white":"border-gray-300 dark:border-gray-600"),style:{backgroundColor:e}},e))})]})]})}),r.jsx("div",{className:"bg-surface-header dark:bg-slate-700/50 p-4 flex justify-end items-center border-t border-surface-border dark:border-slate-700 flex-shrink-0",children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 rounded-md font-semibold text-text-secondary dark:text-slate-300 bg-surface-input dark:bg-slate-600 hover:brightness-95 dark:hover:bg-slate-500 transition-all",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md font-semibold text-text-on-color bg-brand-primary hover:opacity-90 transition-opacity",children:d?"Add Instructor":"Save Changes"})]})})]})})})};export{l as EditInstructorModal};
